/**
 * naturenet - nature-net.org website
 * @authors 
 * @version v0.0.1
 * @link 
 * @license 
 */
!function(){"use strict";angular.module("app",["app.core","app.widgets","app.layout","app.auth","app.home","app.explore","app.communities","app.contributions","app.projects","app.ideas","hashtagify"])}(),function(){"use strict";angular.module("app.auth",["app.core","app.widgets"])}(),function(){"use strict";angular.module("blocks.exception",["blocks.logger"])}(),function(){"use strict";angular.module("blocks.logger",[])}(),function(){"use strict";angular.module("blocks.router",["ui.router","blocks.logger"])}(),function(){"use strict";angular.module("app.communities",["app.core","app.widgets"])}(),function(){"use strict";angular.module("app.contributions",["app.core","app.widgets"])}(),function(){"use strict";angular.module("app.core",["ngAnimate","ngSanitize","blocks.exception","blocks.logger","blocks.router","ui.router","firebase","ngMap","ngplus","ngCookies","ngFileUpload","ngGeolocation","angular-cloudinary","google.places"])}(),function(){"use strict";angular.module("app.explore",["app.core","app.widgets"])}(),function(){"use strict";angular.module("app.home",["app.core","app.widgets","ngAnimate","ngSanitize","ui.bootstrap"])}(),function(){"use strict";angular.module("app.ideas",["app.core","app.widgets"])}(),function(){"use strict";angular.module("app.layout",["app.core","app.widgets"])}(),function(){"use strict";angular.module("app.projects",["app.core","app.widgets"])}(),function(){"use strict";angular.module("app.widgets",["app.core"])}(),function(){"use strict";function e(e,t,i,n,a,o){function s(){var t=[v(),g()];return e.all(t).then(function(){r(),a.info("Authentication Ready")})}function r(){return o.onAuthStateChanged(function(e){if(e)return D.userUid=e.uid,t.$broadcast("auth:success",D.userUid),D.userUid})}function l(){var e={display_name:D.name,name:D.realname,bio:D.bio,email:D.email,affiliation:D.affiliation.$id};return o.createUser(D.email,D.password).then(function(t){D.userUid=t.uid,e.uid=t.uid,u(D.email,D.password).then(function(){return m(e)})})}function c(){d().then(function(){console.log("updating profile");var e={avatar:D.avatar,display_name:D.name,name:D.realname,bio:D.bio,affiliation:D.affiliation.$id,groups:D.membership,uid:D.userUid,demographics:{age:D.age||null,gender:D.gender||null,race:D.race||null}};return o.updateUser(e).then(function(e){return a.success("Your profile has been updated!"),w(),D.userUid})})}function d(){var t=e.when(null);return D.avatarFile&&(console.log("uploading avatar"),t=n.upload(D.avatarFile,{upload_preset:"avatar-preset"}).then(function(e){console.log("avatar uploaded"),D.avatar=e.data.secure_url})["catch"](function(e){a.error("The image you selected could not be uploaded."),D.avatarFile=null})),t}function u(e,i){return o.authWithPassword(e,i).then(function(e){return D.userUid=e.uid,t.$broadcast("auth:success",D.userUid),w(),a.success("You are now logged in!"),D.userUid})}function p(){return o.unAuth()}function m(e){return o.addUser(e).then(function(e){return a.success("Welcome to NatureNet!"),e})}function v(){return o.getArray("sites").then(function(e){D.sites=e})}function g(){return o.getArray("groups").then(function(e){D.groups=e})}function f(){var e=o.getAuth();e?o.getActiveUserDetails().then(function(e){var t=e[0],i=e[1];D.avatar=t.avatar||null,D.name=t.display_name,D.realname=i.name,D.affiliation=D.sites.$getRecord(t.affiliation),D.bio=t.bio||"",D.membership=t.groups||{};var n=i.demographics||{};D.age=n.age||"",D.gender=n.gender||"",D.race=n.race||{}}):a.warning("User is not logged in! Nothing to update.")}function h(){D.mode="update",f()}function b(){D.mode="register"}function y(){D.mode="signin"}function w(){t.$broadcast("auth:hide"),j()}function _(e,t){$()&&u(e,t)}function x(){$()&&("update"===D.mode?c():l())}function k(){return 0===D.email.length?(a.error("No email address was entered."),!1):o.resetPassword(D.email).then(function(e){a.success("Please check the provided email address for instructions.")})}function $(){return 0===D.email.length&&"update"!==D.mode?(a.error("No email address was entered."),!1):0===D.password.length&&"update"!==D.mode?(a.error("No password was entered."),!1):0===D.name.length&&"signin"!==D.mode?(a.error("No username was entered."),!1):0===D.realname.length&&"signin"!==D.mode?(a.error("No name was entered."),!1):0!==D.affiliation.length||"signin"===D.mode||(a.error("No affiliation was entered."),!1)}function j(){D.mode=null,D.avatarFile=null,D.avatar=null,D.email="",D.password="",D.name="",D.realname="",D.bio="",D.affiliation="",D.membership={},D.age="",D.gender="",D.race={}}var D=this;D.userUid=void 0,D.newUserObject=void 0,D.avatarFile=void 0,D.avatar=null,D.email="",D.password="",D.name="",D.realname="",D.bio="",D.affiliation="",D.membership={},D.ageOptions=["8-14","15-17","18-24","25-44","45-64","65+","Prefer not to disclose"],D.genderOptions=["Male","Female","Other","Prefer not to disclose"],D.raceOptions=["Black or African American","American Indian or Alaskan Native","Asian","Native Hawaiian or Other Pacific Islander","White","Some other race"],D.age="",D.gender="",D.race={},D.mode=null,D.login=_,D.apply=x,D.close=w,D.reset=k,s(),t.$on("account:edit",h),t.$on("register:show",b),t.$on("signin:show",y),t.$on("auth:hide",j),t.$on("signout",p)}angular.module("app.auth").controller("AuthController",e),e.$inject=["$q","$rootScope","$filter","cloudinary","logger","dataservice"]}(),function(){"use strict";function e(){this.config={appErrorPrefix:void 0},this.configure=function(e){this.config.appErrorPrefix=e},this.$get=function(){return{config:this.config}}}function t(e){e.decorator("$exceptionHandler",i)}function i(e,t,i){return function(e,n){console.log(e);var a=t.config.appErrorPrefix||"",o={message:e.message?e.message:e,cause:n?n:""};return o.message=a+o.message,i.error(o.message,o)}}angular.module("blocks.exception").provider("exceptionHandler",e).config(t),t.$inject=["$provide"],i.$inject=["$delegate","exceptionHandler","logger"]}(),function(){"use strict";function e(e,t){function i(i){return function(n){var a,o;return n.code&&n.message&&(a="\n"+n.message,o=i+a),n.message=o,console.log(i),t.error(i),e.reject(n)}}var n={catcher:i};return n}e.$inject=["$q","logger"],angular.module("blocks.exception").factory("exception",e)}(),function(){"use strict";function e(e,t){function i(e,i,n){t.error(e,n)}function n(t,i,n){e.info("Info: "+t,i)}function a(i,n,a){t.success(i,a),e.info("Success: "+i,n)}function o(t,i,n){e.warn("Warning: "+t,i)}var s={showToasts:!0,error:i,info:n,success:a,warning:o,log:e.log};return s}angular.module("blocks.logger").factory("logger",e),e.$inject=["$log","toastr"]}(),function(){"use strict";function e(e,t,i){function n(e,n,o,s){function r(e,n){e.forEach(function(e){e.config.resolve=angular.extend(e.config.resolve||{},a.resolveAlways),t.state(e.state,e.config)}),n&&!m&&(m=!0,i.otherwise(n))}function l(){n.$on("$stateChangeError",function(t,i,n,a,o,r){if(!p){v.errors++,p=!0;var l=i&&(i.title||i.name||i.loadedTemplateUrl)||"unknown target",c="Error routing to "+l+". "+(r.data||"")+". <br/>"+(r.statusText||"")+": "+(r.status||"");s.warning(c,[i]),e.path("/")}})}function c(){l(),u()}function d(){return o.get()}function u(){n.$on("$stateChangeSuccess",function(e,t,i,o,s){v.changes++,p=!1;var r=(t.title||"")+" "+a.docTitle;n.title=r,n.$broadcast("map:hide")})}var p=!1,m=!1,v={errors:0,changes:0},g={configureStates:r,getStates:d,stateCounts:v};return c(),g}var a={docTitle:void 0,resolveAlways:{}};e.html5Mode(!0),this.configure=function(e){angular.extend(a,e)},this.$get=n,n.$inject=["$location","$rootScope","$state","logger"]}angular.module("blocks.router").provider("routerHelper",e),e.$inject=["$locationProvider","$stateProvider","$urlRouterProvider"]}(),function(){"use strict";function e(e,t,i,n,a,o,s){function r(){o.showSplash();var t=[l(),c(),d(),u()];return e.all(t).then(function(){o.hideSplash(),a.info("Activated Communities View")})}function l(){var e=s.getAuth();return e&&e.uid?void b(e.uid):s.getUsersRecent(1).then(function(e){return b(e[0].id),j.userId})}function c(){return s.getArray("users").then(function(e){return j.users=e,j.users})}function d(){return s.getArray("groups").then(function(e){return j.groups=e,j.groups})}function u(){return s.getSites().then(function(e){return j.sites=e,j.sites})}function p(e){return s.getObservationsByUserId(e).then(function(t){return j.observations[e]=t,j.numberOfObservations=0,j.observations[e]})}function m(e){return s.getIdeasByUserId(e).then(function(t){return j.ideas[e]=t,j.numberOfIdeas=0,j.ideas[e]})}function v(e){return s.getGroupsByUserId(e).then(function(e){return j.userGroups=e,j.userGroups})}function g(e){t.users[e]&&t.users[e].avatar?j.userAvatar=t.users[e].avatar:j.userAvatar=""}function f(e){return t.users[e].affiliation?s.getSiteById(t.users[e].affiliation).then(function(e){return j.userSite=e.name,j.userSite}):(j.userSite="",j.userSite)}function h(){var e=s.getAuth();j.isSelf=e&&e.uid===j.userId}function b(t){j.groupId=void 0;var i=[p(t),m(t),v(t),f(t)];return e.all(i).then(function(){j.userId=t,j.observationsDisplayLimit=j.displayLimit,j.ideasDisplayLimit=j.displayLimit,j.groupsDisplayLimit=j.displayLimit,g(t),h(),a.info("Updated Communities View based on new userId")})}function y(e){return j.userId=void 0,s.getGroupById(e).then(function(t){j.groupId=e,j.group=t,j.groupMembers=Object.keys(t.members||{});for(var i in t.members)p(i)})}function w(){j.isDrawerVisible=!j.isDrawerVisible}function _(){t.$broadcast("account:edit")}function x(){j.query="",j.peopleDisplayLimit=j.peopleDisplayLimit+j.sidebarDisplayLimit}function k(e,t){console.log(t),j.showDetail=!0,$(t),t&&(j.observation=t)}function $(e){if(j.comments=void 0,e)return s.getCommentsForRecord(e).then(function(e){return j.comments=e,j.comments})}var j=this;j.title="Communities",j.sidebarDisplayLimit=5,j.mainDisplayLimit=4,j.userId=void 0,j.userSite="",j.userAvatar="",j.isSelf=!1,j.users=[],j.groups=[],j.sites=[],j.userObservations=[],j.userGroups=[],j.groupId=void 0,j.group={},j.showDetail=!1,j.observation={},j.observations={},j.comments=void 0,j.ideas={},j.peopleDisplayLimit=j.sidebarDisplayLimit,j.groupsDisplayLimit=j.sidebarDisplayLimit,j.observationsDisplayLimit=j.mainDisplayLimit,j.ideasDisplayLimit=j.mainDisplayLimit,j.groupsDisplayLimit=j.mainDisplayLimit,j.isPeopleListVisible=!0,j.isGroupsListVisible=!0,j.isDrawerVisible=n.innerWidth>750,console.log(n.innerWidth),j.updateUserId=b,j.updateGroupId=y,j.showUpdate=_,j.showMore=x,j.formatDate=o.formatDate,j.updateDrawer=w,r(),t.$on("map:show",k)}angular.module("app.communities").controller("CommunitiesController",e),e.$inject=["$q","$rootScope","$filter","$window","logger","utility","dataservice"]}(),function(){"use strict";function e(e){e.configureStates(t())}function t(){return[{state:"communities",config:{url:"/communities",templateUrl:"app/communities/communities.html",controller:"CommunitiesController",controllerAs:"vm",title:"Communities",settings:{nav:4,content:"Communities"}}}]}angular.module("app.communities").run(e),e.$inject=["routerHelper"]}(),function(){"use strict";function e(e,t,i,n,a,o,s,r){function l(){s.showSplash();var t=[c(),d()];return e.all(t).then(function(){s.hideSplash(),o.info("Activated Contributions View")})}function c(){r.onAuthStateChanged(function(e){return e?r.getObservationsByUserId(e.uid).then(function(e){return f.myObservations=e,f.myObservations}):void(f.myObservations=[])})}function d(){return r.getArray("activities").then(function(e){return f.allProjects=e,f.allProjects})}function u(){if(!f.file||!f.file[0])return void o.info("No file was selected for upload.");f.uploading=!0;"application/pdf"===f.file[0].type?m():p()}function p(){var e=h(f.place);a.upload(f.file,{}).then(function(t){console.log(e),e[0]&&(f.contribution.l=e),console.log(f.contribution),f.contribution.data.image=t.data.secure_url,f.contribution.activity=f.contribution.activity||"-ACES_a38",r.addObservation(f.contribution,!0).then(function(){g(),o.success("Your observation has been submitted!")})})["catch"](function(e){o.error("The file you selected could not be uploaded."),f.file=null,f.uploading=!1})}function m(){a.upload(f.file,{upload_preset:"pdf-preset"}).then(function(e){f.contribution.data.image=e.data.secure_url.replace(/\.[^\/.]+$/,".jpg"),f.contribution.data.doc=e.data.secure_url,f.contribution.activity=f.contribution.activity||"-ACES_a38",r.addObservation(f.contribution,!1).then(function(){g(),o.success("Your observation has been submitted!")})})["catch"](function(e){o.error("The file you selected could not be uploaded."),f.file=null,f.uploading=!1})}function v(){f.isDrawerVisible=!f.isDrawerVisible}function g(){f.uploading=!1,f.contribution={data:{}},f.file=null,f.place={}}var f=this;f.title="Contributions",f.contribution={data:{}},f.myObservations=[],f.file=null,f.isDrawerVisible=n.innerWidth>750,f.place={},f.submit=u,f.reset=g,f.updateDrawer=v,l();var h=function(e){if(!e||!e.geometry)return[];var t=e.geometry.location;return[t.lat(),t.lng()]}}angular.module("app.contributions").controller("ContributionsController",e),e.$inject=["$q","$rootScope","$scope","$window","cloudinary","logger","utility","dataservice"]}(),function(){"use strict";function e(e){e.configureStates(t())}function t(){return[{state:"contributions",config:{url:"/contributions",templateUrl:"app/contributions/contributions.html",controller:"ContributionsController",controllerAs:"vm",title:"Contributions",settings:{nav:5,content:"Contributions"}}}]}angular.module("app.contributions").run(e),e.$inject=["routerHelper"]}(),function(){"use strict";function e(e){e.$get().watchPosition({timeout:6e4,maximumAge:250,enableHighAccuracy:!0})}function t(e){e.config({cloud_name:"university-of-colorado",upload_preset:"web-preset"})}function i(e){e.options.timeOut=8e3,e.options.positionClass="toast-bottom-right"}function n(e,t,i){e.debugEnabled&&e.debugEnabled(!0),i.configure(o.appErrorPrefix),t.configure({docTitle:" | "+o.appTitle})}var a=angular.module("app.core");a.config(e),e.$inject=["$geolocationProvider"],a.config(t),t.$inject=["cloudinaryProvider"],a.config(i),i.$inject=["toastr"];var o={appErrorPrefix:"[NN Error] ",appTitle:"NatureNet",mapOptions:{zoom:5,minZoom:3,zoomControl:!0,scaleControl:!1,streetViewControl:!1,keyboardShortcuts:!1,clickableIcons:!1}};a.value("config",o),a.config(n),n.$inject=["$logProvider","routerHelperProvider","exceptionHandlerProvider"],a.constant("FirebaseName","naturenet"),a.config(["FirebaseName",function(e){firebase.initializeApp({apiKey:"AIzaSyAm--uHylcDf4J5wGroMzPeKmw6uIDnVr8",authDomain:e+".firebaseapp.com",databaseURL:"https://"+e+".firebaseio.com",storageBucket:e+".appspot.com"}),firebase.database.enableLogging(!1)}]),a.config(["FirebaseName","$firebaseRefProvider",function(e,t){t.registerUrl({"default":"https://"+e+".firebaseio.com",projects:"https://"+e+".firebaseio.com/activities",comments:"https://"+e+".firebaseio.com/comments",geo:"https://"+e+".firebaseio.com/geo",groups:"https://"+e+".firebaseio.com/groups",ideas:"https://"+e+".firebaseio.com/ideas",tags:"https://"+e+".firebaseio.com/tags",observations:"https://"+e+".firebaseio.com/observations",sites:"https://"+e+".firebaseio.com/sites",users:"https://"+e+".firebaseio.com/users",usersPrivate:"https://"+e+".firebaseio.com/users-private",usersRanks:"https://"+e+".firebaseio.com/users-ranks",questions:"https://"+e+".firebaseio.com/questions"})}])}(),function(){"use strict";angular.module("app.core").constant("toastr",toastr).constant("moment",moment)}(),function(){"use strict";function e(e){var i="/404";e.configureStates(t(),i)}function t(){return[{state:"404",config:{url:"/404",templateUrl:"app/core/404.html",title:"404"}}]}e.$inject=["routerHelper"],angular.module("app.core").run(e)}(),function(){"use strict";function e(e,t,i,n,a,o,s,r,l,c,d){function u(e){function t(e){return e}function i(t){return c.catcher("Unable to load data for "+e)(t)}var n=o["default"].child(e).orderByChild("updated_at").limitToLast(600),a=p(n);return a.$loaded().then(t)["catch"](i)}function p(e){return new l(e,function(e){return!(e.hasOwnProperty("status")&&"deleted"===e.status.toLowerCase())})}function m(e){return e.updated_at=firebase.database.ServerValue.TIMESTAMP,e.hasOwnProperty("created_at")||(e.created_at=firebase.database.ServerValue.TIMESTAMP),e}function v(e,i){function n(e){s.resolve("success")}function a(e){s.reject(c.catcher("Unable to delete this content.")(e))}var s=t.defer();return e&&i?(o["default"].child(e).child(i).child("status").set("deleted",function(e){e?a(e):(o.geo.child(i).remove(),n())}),s.promise):(console.log("Invalid data"),t.reject(new Error("Invalid Data")))}function g(){return r.position.coords}function f(e){return firebase.auth().onAuthStateChanged(e)}function h(){return firebase.auth().currentUser}function b(e,t){function i(e){return e}function n(e){switch(e.code){case"auth/invalid-email":return c.catcher("The email address is not valid.")(e);case"auth/user-disabled":return c.catcher("This account has been disabled.")(e);case"auth/user-not-found":return c.catcher("There is no user account for this email address.\nJoin NatureNet to get started.")(e);case"auth/wrong-password":return c.catcher('The email address or password is incorrect.\nIf you forgot your password, click "Reset my password."')(e);default:return c.catcher("Unable to sign in.")(e)}}var o=a(firebase.auth());return o.$signInWithEmailAndPassword(e,t).then(i)["catch"](n)}function y(){var e=a(firebase.auth());return e.$signOut()}function w(e,t){function i(e){return e}function n(e){switch(e.code){case"auth/invalid-email":return c.catcher("The email address is not valid.")(e);case"auth/email-already-in-use":return c.catcher("This email address is already in use.\nSign in to access your account.")(e);case"auth/weak-password":return c.catcher("Please choose a password that is at least 6 characters long.")(e);default:return c.catcher("Unable to join with email and password.")(e)}}var o=a(firebase.auth());return o.$createUserWithEmailAndPassword(e,t).then(i)["catch"](n)}function _(e){function i(e){a.resolve("success")}function n(e){a.reject(c.catcher("Unable to create user profile!")(e))}var a=t.defer(),s=e.uid,r={};return r["users-private/"+s]=m({id:s,name:e.name||""}),r["users/"+s]=m({id:s,avatar:e.avatar||"",display_name:e.display_name||"",affiliation:e.affiliation||"",bio:e.bio||""}),o["default"].update(r,function(e){e?n(e):i()}),a.promise}function x(e){function i(e){a.resolve("success")}function n(e){a.reject(c.catcher("Unable to update user profile!")(e))}var a=t.defer(),s=e.uid,r={};r["users-private/"+s+"/id"]=s,r["users-private/"+s+"/name"]=e.name||"",r["users-private/"+s+"/demographics"]=e.demographics||null,r["users-private/"+s+"/updated_at"]=firebase.database.ServerValue.TIMESTAMP,r["users/"+s+"/id"]=s,r["users/"+s+"/avatar"]=e.avatar||"",r["users/"+s+"/display_name"]=e.display_name||"",r["users/"+s+"/affiliation"]=e.affiliation||"",r["users/"+s+"/bio"]=e.bio||"",r["users/"+s+"/groups"]=e.groups||null,r["users/"+s+"/updated_at"]=firebase.database.ServerValue.TIMESTAMP;for(var l in e.groups)r["groups/"+l+"/members/"+s]=e.groups[l]||null;return o["default"].update(r,function(e){e?n(e):i()}),a.promise}function k(e){function t(e){return e}function i(e){switch(error.code){case"auth/invalid-email":return c.catcher("The email address is not valid.")(error);case"auth/user-not-found":return c.catcher("There is no user account for this email address.\nJoin NatureNet to get started.")(error);default:return c.catcher("Unable to reset password.")(error)}}var n=a(firebase.auth());return n.$sendPasswordResetEmail(e).then(t)["catch"](i)}function $(){function e(e){return e}function t(e){return c.catcher("Unable to load users")(e)}return i(o.users).$loaded().then(e)["catch"](t)}function j(e){function t(e){return e}function i(e){return c.catcher("Unable to load recent users")(e)}var a=o.users.orderByChild("latest_contribution").limitToLast(e),s=n(a);return s.$loaded().then(t)["catch"](i)}function D(){function e(e){return e}function n(e){return c.catcher("Unable to load your profile")(e)}var a=h();if(null===a||!a.uid)return console.log("User is not signed in."),t.when(null);var s=i(o.users.child(a.uid));return s.$loaded().then(e)["catch"](n)}function P(){function e(e){return e}function n(e){return c.catcher("Unable to load your account data")(e)}var a=h();if(null===a||!a.uid)return console.log("User is not signed in."),t.when(null);var s=i(o.users.child(a.uid)),r=i(o.usersPrivate.child(a.uid));return t.all([s.$loaded(),r.$loaded()]).then(e)["catch"](n)}function S(){function e(e){return e.$value}function n(e){return c.catcher("Unable to load your permissions. Some features may be unavailable.")(e)}var a=h();if(null===a||!a.uid)return console.log("User is not signed in."),t.when(null);var s=i(o.usersRanks.child(a.uid));return s.$loaded().then(e)["catch"](n)}function A(){function e(e){return e}function t(e){return c.catcher("Unable to load groups")(e)}return i(o.groups).$loaded().then(e)["catch"](t)}function C(e){function n(e){return e}function a(e){return c.catcher("Unable to load group")(e)}return e?i(o.groups.child(e)).$loaded().then(n)["catch"](a):(console.log("ID does not exist"),t.when(null))}function I(e){function i(e){return e}function a(e){return c.catcher("Unable to load groups for user")(e)}if(!e)return console.log("ID does not exist"),t.when(null);var s=o.groups.orderByChild("members/"+e).equalTo(!0),r=n(s);return r.$loaded().then(i)["catch"](a)}function U(){function e(e){return e}function t(e){return c.catcher("Unable to load sites")(e)}return i(o.sites).$loaded().then(e)["catch"](t)}function M(e){function n(e){return e}function a(e){return c.catcher("Unable to load site")(e)}return e?i(o.sites.child(e)).$loaded().then(n)["catch"](a):(console.log("ID does not exist"),t.when(null))}function O(e){function n(e){return e}function a(e){return c.catcher("Unable to load observation")(e)}return e?i(o.observations.child(e)).$loaded().then(n)["catch"](a):(console.log("ID does not exist"),t.when(null))}function E(e){function i(e){return e}function n(e){return c.catcher("Unable to load obsevations for user")(e)}if(!e)return console.log("ID does not exist"),t.when(null);var a=o.observations.orderByChild("observer").equalTo(e),s=p(a);return s.$loaded().then(i)["catch"](n)}function T(e){function i(e){return e}function n(e){return c.catcher("Unable to load observations for project")(e)}if(!e)return console.log("ID does not exist"),t.when(null);var a=o.observations.orderByChild("activity").equalTo(e),s=p(a);return s.$loaded().then(i)["catch"](n)}function N(e){function i(e){return e}function n(e){return c.catcher("Unable to load observations for site")(e)}if(!e)return console.log("ID does not exist"),t.when(null);var a=o.observations.orderByChild("site").equalTo(e),s=p(a);return s.$loaded().then(i)["catch"](n)}function L(e,i,n){function a(){re.cancel(),o.resolve(s)}var o=t.defer(),s={},r=0;re.updateCriteria({center:[e.lat(),e.lng()],radius:i});re.on("key_entered",function(e,t){angular.equals(t,[0,0])||(s[e]=t,void 0!=n&&++r>=n&&a())}),re.on("ready",a);return o.promise}function V(e,i,n){function a(e){r.resolve("success")}function s(e){r.reject(c.catcher("Unable to update observation!")(e))}var r=t.defer(),l={};return e?(l["observations/"+e+"/activity"]=i,l["observations/"+e+"/data/text"]=n,l["observations/"+e+"/updated_at"]=firebase.database.ServerValue.TIMESTAMP,o["default"].update(l,function(e){e?s(e):a()}),r.promise):(console.log("Observation has no ID"),t.when(null))}function B(e,i){function n(e){s.resolve("success")}function a(e){s.reject(c.catcher("Unable to submit observation!")(e))}var s=t.defer();return D().then(function(t){var s=o.observations.push().key;if(e.id=s,e.observer=t.id,e.site=t.affiliation,e.source="web",e.l&&2==e.l.length){console.log("autocomplete");var l=e.l[0],c=e.l[1]}else if(i&&r.position.coords){console.log("provide location");var l=r.position.coords.latitude,c=r.position.coords.longitude}else{console.log("default");var l=35.2617568,c=-80.7215697}e.l={0:l,1:c},console.log(e);var d={};d["/observations/"+s]=m(e),d["/activities/"+e.activity+"/latest_contribution"]=firebase.database.ServerValue.TIMESTAMP,d["/users/"+e.observer+"/latest_contribution"]=firebase.database.ServerValue.TIMESTAMP,o["default"].update(d,function(e){e?a(e):(new GeoFire(o.geo).set(s,[l,c]),n())})})["catch"](a),s.promise}function q(e,i,n,a){function s(e){return console.log("success"),e}function r(e){return c.catcher("Unable to create project")(e)}var l=h();if(null===l||!l.uid)return console.log("You must be signed in to do that!"),t.reject(new Error("You must be signed in to do that!"));console.log(o.projects);var d=o.projects.push().key,u=m({id:d,name:e,description:i,submitter:l.uid,icon_url:a?a:"",latest_contribution:0,sites:n,source:"web",status:""});console.log(u);var p={};return p["activities/"+d]=u,p["users/"+l.uid+"/latest_contribution"]=firebase.database.ServerValue.TIMESTAMP,o["default"].update(p).then(s)["catch"](r)}function R(e,i,n){function a(e){l.resolve("success")}function s(e){l.reject(c.catcher("Unable to update project!")(e))}var r=h(),l=t.defer();if(null===r||!r.uid)return console.log("You must be signed in to do that!"),l.reject(new Error("You must be signed in to do that!"));console.log(o.projects);var d={};return e?(console.log(i),console.log(n),d["activities/"+e+"/name"]=i,d["activities/"+e+"/description"]=n,d["activities/"+e+"/updated_at"]=firebase.database.ServerValue.TIMESTAMP,o["default"].update(d,function(e){e?s(e):a()}),l.promise):(console.log("Project has no ID"),t.when(null))}function F(){function e(e){return e}function t(e){return c.catcher("Unable to load projects")(e)}return i(o.projects).$loaded().then(e)["catch"](t)}function z(e){function n(e){return e}function a(e){return c.catcher("Unable to load project")(e)}return e?i(o.projects.child(e)).$loaded().then(n)["catch"](a):(console.log("ID does not exist"),t.when(null))}function G(e){function t(e){return e}function i(e){return c.catcher("Unable to load recent projects")(e)}var a=o.projects.orderByChild("latest_contribution").limitToLast(e),s=n(a);return s.$loaded().then(t)["catch"](i)}function H(e){function t(e){return e}function i(e){return c.catcher("Unable to load projects for site")(e)}var a=o.projects.orderByChild("sites/"+e).equalTo(!0),s=n(a);return s.$loaded().then(t)["catch"](i)}function Y(e,i){function n(e){return e}function a(e){return c.catcher("Unable to submit design idea")(e)}var s=h();if(null===s||!s.uid)return console.log("You must be signed in to do that!"),t.reject(new Error("You must be signed in to do that!"));var r=o.ideas.push().key,l=m({id:r,group:"idea",type:i,submitter:s.uid,content:e,status:"doing",source:"web"}),d={};return d["ideas/"+r]=l,d["users/"+s.uid+"/latest_contribution"]=firebase.database.ServerValue.TIMESTAMP,console.log(d),o["default"].update(d).then(n)["catch"](a)}function W(e,i){function n(e){return e}function a(e){return c.catcher("Unable to submit design idea")(e)}var s=h();if(null===s||!s.uid)return console.log("You must be signed in to do that!"),t.reject(new Error("You must be signed in to do that!"));var r=o.questions.push().key,l=m({id:r,content:e,submitter:s.uid,email:firebase.auth().currentUser.email,source:"web",status:"doing"}),d={};return d["questions/"+r]=l,o["default"].update(d).then(n)["catch"](a)}function Q(e){function i(e){return e}function n(e){return c.catcher("Unable to load ideas for user")(e)}if(!e)return console.log("ID does not exist"),t.when(null);var a=o.ideas.orderByChild("submitter").equalTo(e),s=p(a);return s.$loaded().then(i)["catch"](n)}function J(e,i,n){function a(e){r.resolve("success")}function s(e){r.reject(new Error("Unable to update idea!"))}var r=t.defer(),l={};return e?(l["ideas/"+e+"/content"]=i,l["ideas/"+e+"/type"]=n,l["ideas/"+e+"/updated_at"]=firebase.database.ServerValue.TIMESTAMP,o["default"].update(l,function(e){e?s(e):a()}),r.promise):(console.log("Idea has no ID"),t.when(null))}function K(){function e(e){return e}function t(e){return c.catcher("Unable to load tags")(e)}return n(o.tags).$loaded().then(e)["catch"](t)}function Z(e,t,n){var a=h();if(null===a||!a.uid)return void console.log("You must be signed in to do that!");var s=a.uid;i(o["default"].child(e+"/"+t.$id+"/likes/"+s)).$loaded().then(function(e){e.$value===n?e.$value=null:e.$value=n,e.$save()})}function X(e,t,i){var n=h();if(null===n||!n.uid)return void console.log("You must be signed in to do that!");var a=o.comments.push().key,s=m({id:a,parent:t.$id,context:e,comment:i,commenter:n.uid,source:"web"}),r={};r["comments/"+a]=s,r[e+"/"+t.$id+"/comments/"+a]=!0,o["default"].update(r)}function ee(e){function t(e){return e}function i(e){return c.catcher("Unable to load recent comments")(e)}var n=o.comments.orderByChild("updated_at").limitToLast(e),a=p(n);return a.$loaded().then(t)["catch"](i)}function te(e){function i(e){return e}function n(e){return c.catcher("Unable to load comments for user")(e)}if(!e)return console.log("ID does not exist"),t.when(null);var a=o.comments.orderByChild("commenter").equalTo(e),s=p(a);return s.$loaded().then(i)["catch"](n)}function ie(e){function t(e){return e}function i(e){return c.catcher("Unable to load comments for this contribution")(e)}var n=o.comments.orderByChild("parent").equalTo(e.$id||e.id),a=p(n);return a.$loaded().then(t)["catch"](i)}var ne={getArray:u,deleteContent:v,getGeolocation:g,onAuthStateChanged:f,getAuth:h,authWithPassword:b,unAuth:y,createUser:w,addUser:_,updateUser:x,resetPassword:k,getActiveUserDetails:P,getActiveUserRank:S,getUsers:$,getUsersRecent:j,getActiveUser:D,getGroups:A,getGroupById:C,getGroupsByUserId:I,getSites:U,getSiteById:M,getObservationById:O,getObservationsByUserId:E,getObservationsByProjectId:T,getObservationsBySiteId:N,getObservationsNear:L,updateObservation:V,addObservation:B,createProject:q,updateProject:R,getProjects:F,getProjectsRecent:G,getProjectById:z,getProjectsAtSite:H,getIdeasByUserId:Q,addIdea:Y,addQuestion:W,updateIdea:J,getTags:K,likeContent:Z,addComment:X,getCommentsRecent:ee,getCommentsForRecord:ie,getCommentsByUserId:te},ae=e.get("naturenet.status");if(ae){var oe=o["default"].child(".info/connected"),se=o["default"].child("status").child(ae);oe.on("value",function(e){se.onDisconnect().set(!1),se.set(!0)})}r.getCurrentPosition()["catch"](function(e){throw new Error(e.error.message)});var re=new GeoFire(o.geo).query({center:[0,0],radius:1});return ne}angular.module("app.core").factory("dataservice",e),e.$inject=["$cookies","$q","$firebaseObject","$firebaseArray","$firebaseAuth","$firebaseRef","$filter","$geolocation","FilteredArray","exception","logger"]}(),function(){"use strict";function e(e,t){function i(e){var t=moment(+e).format("MMM DD YYYY").toString();return t}function n(){e.$applyAsync(function(){e.showSplash=!1,s+=1,console.log("Splash counter: "+s)})}function a(){e.$applyAsync(function(){s-=1,console.log("Splash counter: "+s),s<1&&(e.showSplash=!1,$(".phone-screens").cycle(),console.log("cleared splash"))})}var o={formatDate:i,showSplash:n,hideSplash:a},s=0;return o}function t(){return function(e){return!(e[i].hasOwnProperty("status")&&"deleted"===e[i].status.toLowerCase())}}angular.module("app.core").factory("utility",e).factory("FilteredArray",["$firebaseArray",function(e){function t(t,i){return this.filterFn=i,e.call(this,t)}return t.prototype.$$added=function(t){var i=e.prototype.$$added.call(this,t);if(!this.filterFn||this.filterFn(i))return i},e.$extend(t)}]).service("notDeleted",t).filter("emptyToEnd",function(){return function(e,t){if(angular.isArray(e)){var i=e.filter(function(e){return e[t]}),n=e.filter(function(e){return!e[t]});return i.concat(n)}}}).filter("deobfuscate",[function(){return function(e){return String(e).replace(" at ","@").replace(" dot ",".")}}]).filter("img_thumb",[function(){return function(e){return String(e).replace("upload/","upload/t_web-thumbnail/")}}]).filter("img_preview",[function(){return function(e){return String(e).replace("upload/","upload/t_web-preview/");
}}]).filter("img_sidebar",[function(){return function(e){return String(e).replace("upload/","upload/t_web-sidebar/")}}]).filter("img_large",[function(){return function(e){return String(e).replace("upload/","upload/t_web-large/")}}]).filter("img_fullscreen",[function(){return function(e){return String(e).replace("upload/","upload/t_web-fullscreen")}}]),e.$inject=["$rootScope","$timeout"]}(),function(){"use strict";function e(e,t,i,n,a,o,s,r,l,c){function d(){s.showSplash();var t=[u()];return l.getMap().then(function(i){a.info("Google Maps Ready"),D.map=i,e.all(t).then(function(){g(),s.hideSplash(),a.info("Activated Map View")})})}function u(){return r.getArray("observations").then(function(e){return D.observations=e,D.observations})}function p(e){e&&r.getObservationById(e).then(function(e){null!==e.$value?D.currentObservation=e:a.warning("This observation cannot be displayed.")})}function m(){x(D.currentObservation),b(D.currentObservation)}function v(){D.showDetail=!0}function g(){function e(e){function t(){return{path:"M 0,0 C -2,-20 -10,-22 -10,-30 A 10,10 0 1,1 10,-30 C 10,-22 2,-20 0,0 z M -2,-30 a 2,2 0 1,1 4,0 2,2 0 1,1 -4,0",fillColor:"#4db26a",fillOpacity:1,strokeColor:"#354a5f",strokeWeight:3,scale:1}}var i=e.l,n=new google.maps.Marker({position:new google.maps.LatLng(i[0],i[1]),title:e.data.text,id:e.$id,icon:t("#354a5f")});return google.maps.event.addListener(n,"click",function(){D.currentObservation=e,D.map.showInfoWindow("bar",this)}),n}function n(){D.markers=D.observations.map(function(t){return e(t)});var t={cssClass:"custom-pin",maxZoom:13,imagePath:"/bower_components/gmaps-marker-clusterer/images/m"};return new MarkerClusterer(D.map,D.markers,t)}var a=r.getGeolocation();a&&(o.mapOptions.center=new google.maps.LatLng(a.latitude,a.longitude),o.mapOptions.zoom=12),D.map.setOptions(o.mapOptions),n(),i.$broadcast("map:init"),t.$on("map:toggle",y),t.$on("map:show",w),t.$on("map:hide",_),t.$on("auth:success",h),t.$on("search",function(e,t){console.log(t),D.query=t,D.showDetail=!1,D.isDrawerVisible=!0})}function f(){D.map}function h(e){r.getActiveUser().then(function(e){r.getSiteById(e.affiliation).then(function(e){if(e){var t=new google.maps.LatLng({lat:e.l[0],lng:e.l[1]});D.map.panTo(t),D.map.setZoom(12)}})})}function b(e){if(D.map){!e||!e.l||angular.equals(e.l,[0,0]);var t=new google.maps.LatLng({lat:e.l[0],lng:e.l[1]}),i=D.map.getZoom();D.map.panTo(t),i<14&&D.map.setZoom(14)}}function y(){}function w(e,t){t&&(D.currentObservation=t)}function _(){}function x(e){if(D.currentObservation=e,e&&r.getProjectById(e.activity).then(function(e){D.currentProject=e}),D.markers){var t=D.markers.filter(function(t){return t.id==e.$id});setTimeout(function(){google.maps.event.trigger(t[0],"click")},600),$(D.currentObservation)}}function k(){D.hasSidebar=!1}function $(){if(D.comments=void 0,D.currentObservation)return r.getCommentsForRecord(D.currentObservation).then(function(e){return D.comments=e,D.comments})}function j(){console.log("close"),D.isDrawerVisible=!D.isDrawerVisible,setTimeout(function(){google.maps.event.trigger(D.map,"resize")},1500)}var D=this;D.title="Explore",D.map=void 0,D.localObservationIds=void 0,D.observations=void 0,D.currentObservation=void 0,D.currentProject=void 0,D.comments=void 0,D.maxPoints=100,D.dynMarkers=[],D.query="",D.hasSidebar=!1,D.isObservationsListVisible=!0,D.showDetail=!1,D.isDrawerVisible=!0,D.limit=8,D.toggleMap=y,D.showSidebar=x,D.hideSidebar=k,D.formatDate=s.formatDate,D.onMapMoved=f,D.select=p,D.updateDrawer=j,D.openDetails=v,d(),i.$watch("vm.currentObservation",m),i.$on("delete",function(e,t){t===D.currentObservation.id&&(D.currentObservation=void 0)}),i.$on("view",function(e,t){t&&(D.showDetail=!0)}),D.hideDetail=function(){D.map.hideInfoWindow("bar")},D.search=function(e){var i=e.target.innerText;console.log(i),t.$broadcast("search",i)}}angular.module("app.explore").controller("ExploreController",e),e.$inject=["$q","$rootScope","$scope","$timeout","logger","config","utility","dataservice","NgMap"]}(),function(){"use strict";function e(e){e.configureStates(t())}function t(){return[{state:"explore",config:{url:"/explore",templateUrl:"app/explore/explore.html",controller:"ExploreController",controllerAs:"vm",title:"Explore"}}]}angular.module("app.explore").run(e),e.$inject=["routerHelper"]}(),function(){"use strict";function e(){function e(e,t,i){function n(){o=e.map,google.maps.event.addListener(o,"bounds_changed",a)}function a(){function e(){return-85>s?i=l-(s+85):n>85&&(i=l-(n-85)),t=new google.maps.LatLng(i,c),void o.setCenter(t)}var t=void 0,i=void 0,n=o.getBounds().getNorthEast().lat(),a=o.getBounds().getNorthEast().lng(),s=o.getBounds().getSouthWest().lat(),r=o.getBounds().getSouthWest().lng(),l=o.getCenter().lat(),c=o.getCenter().lng(),d=-85>s&&n>85,u=s>-85&&85>n,p=d||u,m=a>0&&180>a&&c>0,v=0>r&&r>-180&&0>c,g=m||v;if(p&&g);else if(!p)return e()}var o=void 0;e.$on("map:init",n)}var t={link:e,restrict:"A"};return t}angular.module("app.explore").directive("nnMapContain",e),e.$inject=[]}(),function(){"use strict";function e(e,t,i,n,a,o){function s(){r(),a.showSplash();var t=[l(),c()];return e.all(t).then(function(){a.hideSplash(),n.info("Activated Home View")})}function r(){/iPad|iPhone|iPod|Android/.test(navigator.userAgent)&&!window.MSStream&&i.open({template:'<div class="modal-header"><h3 class="modal-title" id="modal-title">Download the NatureNet app!</h3></div><div class="modal-body mobile-overlay" id="modal-body"><p>NatureNet is available for iOS and Android.</p><p><a href="https://itunes.apple.com/us/app/naturenet/id1104382694?mt=8" style="display:inline-block;overflow:hidden;background:url(https://linkmaker.itunes.apple.com/images/badges/en-us/badge_appstore-lrg.svg) no-repeat;width:165px;height:40px;margin:10px 0 10px 28px;"></a></p><p><a href="https://play.google.com/store/apps/details?id=org.naturenet&utm_source=global_co&utm_medium=prtnr&utm_content=Mar2515&utm_campaign=PartBadge&pcampaignid=MKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1"><img alt="Get it on Google Play" src="images/google-play-badge.png" style="height:60px;"/></a></p></div>'})}function l(){return o.getArray("observations").then(function(e){return p.observations=e,p.observations})}function c(){return o.getArray("ideas").then(function(e){return p.ideas=e,p.ideas})}function d(e){t.$broadcast("map:show",e)}function u(){t.$broadcast("map:show")}var p=this;p.title="Home",p.observations=[],p.ideas=[],p.contactEmail="naturenetapp at gmail dot com",p.observationsDisplayLimit=5,p.ideasDisplayLimit=5,p.showObservation=d,p.showMap=u,p.formatDate=a.formatDate,s()}angular.module("app.home").controller("HomeController",e),e.$inject=["$q","$rootScope","$uibModal","logger","utility","dataservice"]}(),function(){"use strict";function e(e){e.configureStates(t())}function t(){return[{state:"home",config:{url:"/",templateUrl:"app/home/home-new.html",controller:"HomeController",controllerAs:"vm",title:"Home",settings:{content:"Home"}}}]}angular.module("app.home").run(e),e.$inject=["routerHelper"]}(),function(){"use strict";function e(e,t,i,n,a,o,s){function r(){o.showSplash();var t=[c(),u()];return e.all(t).then(function(){o.hideSplash(),a.info("Activated Design Ideas View")})}function l(){if(w.comments=void 0,w.selectedIdea)return s.getCommentsForRecord(w.selectedIdea).then(function(e){return w.comments=e,w.comments})}function c(){return s.getArray("ideas").then(function(e){return w.ideas=e,e.map(function(e){return w.filters[e.status]=w.filters[e.status]+1,e.status}),w.filters.all=w.filters.done+w.filters.doing+w.filters.developing+w.filters.testing,w.ideas})}function d(e,t){return s.addIdea(e,t).then(function(e){c().then(function(){g(),a.success("Idea successfully submitted!")})})}function u(){return s.getTags().then(function(e){return angular.forEach(e,function(e){w.allTags.push(e.$id)}),w.allTags})}function p(){0!==w.content.length&&d(w.content,w.type)}function m(){w.showQuestionForm=!0,y()}function v(e){w.selectedIdea=e,w.showDetail=!0}function g(){w.content=""}function f(e){w.content+=" #"+e}function h(e){w.filterType=e}function b(){w.isDrawerVisible=!w.isDrawerVisible}function y(){w.isDrawerVisible=!1}var w=this;w.title="Design Ideas",w.sidebarDisplayLimit=6,w.uid=void 0,w.query="",w.content="",w.ideaTypes=["New Features","Project Ideas","Community Ideas","Improvement Ideas"],w.allTags=[],w.type=w.ideaTypes[0],w.ideas=[],w.currentIdeaId=void 0,w.comments=void 0,w.showDetail=!1,w.filterType="!deleted",w.filters={doing:0,done:0,testing:0,developing:0},w.isDrawerVisible=n.innerWidth>750,w.showQuestionForm=!1,w.ideasDisplayLimit=w.sidebarDisplayLimit,w.addIdea=p,w.formatDate=o.formatDate,w.selectIdea=v,w.tag=f,w.setFilter=h,w.updateDrawer=b,w.openQuestionForm=m,r(),i.$watch("vm.selectedIdea",l),i.$on("delete",function(e,t){t===w.selectedIdea.id&&(w.selectedIdea=void 0)})}angular.module("app.ideas").controller("IdeasController",e),e.$inject=["$q","$rootScope","$scope","$window","logger","utility","dataservice"]}(),function(){"use strict";function e(e){e.configureStates(t())}function t(){return[{state:"ideas",config:{url:"/ideas",templateUrl:"app/ideas/ideas.html",controller:"IdeasController",controllerAs:"vm",title:"Design Ideas",settings:{nav:3,content:"Design Ideas"}}}]}angular.module("app.ideas").run(e),e.$inject=["routerHelper"]}(),function(){"use strict";function e(e,t,i,n,a){function o(){s(),c()}function s(){return a.onAuthStateChanged(r)}function r(t){e.$apply(function(){return t?(w.isAuthenticated=!0,w.userUid=t.uid,e.currentUser=t.uid,e.userRank=void 0,a.getActiveUserRank().then(function(t){e.userRank=t})):(w.isAuthenticated=!1,w.userUid=void 0,e.currentUser=void 0,e.userRank=void 0),w.userUid})}function l(){n.success("You are now logged out.")}function c(){w.navRoutes=_.filter(function(e){return e.settings&&e.settings.nav}).sort(function(e,t){return e.settings.nav-t.settings.nav})}function d(e){return u(e)+" "+p(e)}function u(e){return"item-"+e.name}function p(e){if(!e.title||!t.current||!t.current.title)return"";var i=e.title;return t.current.title.substr(0,i.length)===i?"is-current":""}function m(t){w.showPopup=!1,"boolean"==typeof t&&t?(e.$broadcast("map:show"),w.isMapActive=t):"boolean"!=typeof t||t?"boolean"!=typeof t&&(e.$broadcast("map:toggle"),w.isMapActive=!w.isMapActive):(e.$broadcast("map:hide"),w.isMapActive=t)}function v(){e.$broadcast("register:show"),w.showPopup=!1}function g(){e.$broadcast("account:edit"),w.showPopup=!1}function f(){e.$broadcast("signin:show"),w.showPopup=!1}function h(){e.$broadcast("signout"),w.showPopup=!1,l()}function b(){w.showPopup=!1}function y(){w.isMapActive=!0,w.showPopup=!1}var w=this,_=i.getStates();w.userUid=void 0,w.isMapActive=!1,w.isAuthenticated=!1,w.showPopup=!1,w.getClasses=d,w.toggleMap=m,w.showRegister=v,w.showSignin=f,w.signOut=h,w.showEdit=g,o(),e.$on("auth:success",b),e.$on("map:show",y)}angular.module("app.layout").controller("HeaderController",e),e.$inject=["$rootScope","$state","routerHelper","logger","dataservice"]}(),function(){"use strict";function e(e,t,i,n,a,o){function s(){i.info(n.appTitle+" loaded!",null),a.showSplash(),l();var t=[c(),d(),u()];return e.all(t).then(function(){a.hideSplash()})}function r(){console.log("open form"),g.showQuestionForm=!0}function l(){a.showSplash();var e=$("#overlay__two").width()/2;$("#overlay__logo").animate({left:"-="+(e+140)},function(){$("#overlay__one").fadeToggle(1e3).fadeToggle(1e3,function(){$("#overlay__two").fadeToggle(1e3).delay(1e3).fadeToggle(1e3,function(){$("#overlay__logo").animate({left:"+="+(e+140)},a.hideSplash)})})})}function c(){return o.getUsers().then(function(e){return t.users=e,t.users})}function d(){return o.getGroups().then(function(e){return t.groups=e,t.groups})}function u(){return o.getProjects().then(function(e){return t.projects=e,t.projects})}function p(){t.$broadcast("auth:hide")}function m(){g.isAuth=!0}function v(){g.isAuth=!1}var g=this;g.isAuth=!1,g.hideAuth=v,g.broadcastHideAuth=p,g.openQuestionForm=r,s(),t.$on("account:edit",m),t.$on("register:show",m),t.$on("signin:show",m),t.$on("auth:hide",v)}angular.module("app.layout").controller("ShellController",e),e.$inject=["$q","$rootScope","logger","config","utility","dataservice"]}(),function(){"use strict";function e(e,t,i,n,a,o,s){function r(){o.showSplash();var e=[l(),c(),d(),g()];return t.all(e).then(function(){var e=[u(y.projectId)];t.all(e).then(function(){o.hideSplash(),a.info("Activated Projects View")})})}function l(){return s.getProjectsRecent(1).then(function(e){return y.projectId=e[0].id,y.projectId})}function c(){return s.getArray("activities").then(function(e){return y.projects=i("orderBy")(e,"latest_contribution",!0),y.projects})}function d(){var i=s.getAuth();if(!i)return null;if(i||e.users[i.uid])return y.localSite="",y.localProjects=void 0,t.when(null);var n=e.users[i.uid].affiliation;return s.getSiteById(n).then(function(e){y.localSite=e.name}),s.getProjectsAtSite(n).then(function(e){return y.localProjects=e,y.localProjects})}function u(e){return s.getObservationsByProjectId(e).then(function(e){return y.projectObservations=e,y.projectObservations})}function p(e,t){return s.createProject(e,t).then(function(e){return y.projectObservations=e,y.projectObservations})}function p(){var e=y.name,t=y.description,i=y.affiliations;return s.createProject(e,t,i,w).then(function(e){c().then(function(){m(),a.success("Project successfully submitted!")})})}function m(){y.name="",y.affiliations={},y.description=""}function v(){y.isDrawerVisible=!y.isDrawerVisible}function g(){return s.getArray("sites").then(function(e){y.sites=e})}function f(e,t){t&&(h(t),y.projectObservation=t)}function h(e){if(y.comments=void 0,e)return s.getCommentsForRecord(e).then(function(e){return y.comments=e,y.comments})}function b(e){var i=[u(e)];return t.all(i).then(function(){y.projectId=e,y.show=!0,a.info("Updated Projects View based on new projectId")})}var y=this;y.title="Projects",y.displayLimit=6,y.name="",y.description="",y.query="",y.projectId=void 0,y.localSite=void 0,y.localProjects=void 0,y.projects=[],y.projectObservations=[],y.isDrawerVisible=n.innerWidth>750,y.affiliations={},y.comments=void 0,y.isProjectsListVisible=!0,y.projectObservation={},y.updateDrawer=v,y.updateProjectId=b,y.formatDate=o.formatDate,y.createProject=p,y.show=!1;var w="https://res.cloudinary.com/university-of-colorado/image/upload/v1464880363/static/Backyard_bd5me8.png";r(),e.$on("map:show",f)}angular.module("app.projects").controller("ProjectsController",e),e.$inject=["$rootScope","$q","$filter","$window","logger","utility","dataservice"]}(),function(){"use strict";function e(e){e.configureStates(t())}function t(){return[{state:"projects",config:{url:"/projects",templateUrl:"app/projects/projects.html",controller:"ProjectsController",controllerAs:"vm",title:"Projects",settings:{nav:2,content:"Projects"}}}]}angular.module("app.projects").run(e),e.$inject=["routerHelper"]}(),function(){"use strict";function e(){function e(e,t,i){}var t={scope:{avatarUrl:"@",title:"@",subtitle:"@"},link:e,templateUrl:"app/widgets/nn-badge.html",restrict:"EA"};return t}angular.module("app.widgets").directive("nnBadge",e)}(),function(){"use strict";function e(){function e(e,t,i){e.comment="",e.showDefault=!1,e.getUser()}function t(e,t){e.doComment=function(){t.addComment(e.context,e.data,e.comment),e.comment=""},e.getUser=function(){t.getActiveUser().then(function(t){return t&&(e.avatarUrl=t.avatar),t})}}var i={scope:{data:"=",context:"@",avatarUrl:"@",comment:"@"},link:e,templateUrl:"app/widgets/nn-comment-form.html",restrict:"EA",controller:["$scope","dataservice",t]};return i}angular.module("app.widgets").directive("nnCommentForm",e)}(),function(){"use strict";function e(e){function t(t,i,n){t.formatDate=e.formatDate,"[no description]"===t.comment?t.text="":t.text=t.comment}var i={scope:{limit:"=",avatarUrl:"@",name:"@",date:"@",comment:"@"},link:t,templateUrl:"app/widgets/nn-comment.html",restrict:"EA"};return i}angular.module("app.widgets").directive("nnComment",e),e.$inject=["utility"]}(),function(){"use strict";function e(e,t){function i(e,t,i){function n(){e.options.some(function(t){return t===e.selectedOption})&&(e.isPlaceholder=void 0===e.selectedOption[e.property],e.display=e.selectedOption[e.property])}function a(t){if(!e.isPlaceholder)return t[e.property]===e.selectedOption[e.property]?"is-current":""}function o(){e.listVisible=!e.listVisible}function s(t){e.isPlaceholder=!1,e.selectedOption=t,e.listVisible=!1,e.display=e.selectedOption[e.property]}e.listVisible=!1,e.isPlaceholder=!0,e.isCurrent=a,e.toggleOptions=o,e.selectOption=s,n()}var n={scope:{placeholder:"@",options:"=",selectedOption:"=",property:"@"},link:i,templateUrl:"app/widgets/nn-dropdown.html",restrict:"EA"};return n}angular.module("app.widgets").directive("nnDropdown",e),e.$inject=["$rootScope","logger"]}(),function(){"use strict";function e(e,t){function i(t,i,n){function a(){t.show=!1}t.formatDate=e.formatDate,t.hide=a,t.isEditMode=!1,t.groups=[{id:"idea",name:"Design Idea"},{id:"challenge",name:"Design Challenge"}],t.types=["New Features","Project Ideas","Community Ideas","Improvement Ideas"],t.edit=function(){t.isEditMode=!0,t.cache=angular.copy(t.idea)},t.cancel=function(){t.isEditMode=!1}}function n(e,i){e.saveChanges=function(){e.isEditMode=!1,console.log(e.cache),i.updateIdea(e.cache.id,e.cache.content,e.cache.group,e.cache.type).then(function(e){t.success("Your idea has been updated.")})},e["delete"]=function(){confirm("Are you sure you want to delete your idea?")&&i.deleteContent("ideas",e.idea.id).then(function(i){e.$emit("delete",e.idea.id),t.success("The idea has been deleted.")})}}var a={scope:{idea:"=",comments:"=",show:"=",editable:"="},link:i,templateUrl:"app/widgets/nn-idea-modal.html",restrict:"EA",controller:["$scope","dataservice",n]};return a}angular.module("app.widgets").directive("nnIdeaModal",e),e.$inject=["utility","logger"]}(),function(){"use strict";function e(e,t){function i(e,i,n){function a(e){}function o(){e.limit=parseInt(e.limit)+parseInt(r)}function s(){e.limit=parseInt(r)}e.$watch("ideas",s);var r=e.limit.slice(0);e.formatDate=t.formatDate,e.showIdea=a,e.incrementLimit=o}var n={scope:{ideas:"=",limit:"@",expandable:"@"},link:i,templateUrl:"app/widgets/nn-ideas-list.html",restrict:"EA"};return n}angular.module("app.widgets").directive("nnIdeasList",e),e.$inject=["$rootScope","utility"]}(),function(){"use strict";function e(){function e(e,t,i){e.showDefault=!1,e.imageUrl&&""!==e.imageUrl||(e.showDefault=!0)}var t={scope:{imageUrl:"@"},link:e,templateUrl:"app/widgets/nn-image.html",restrict:"EA"};return t}angular.module("app.widgets").directive("nnImage",e)}(),function(){"use strict";function e(e,t,i){function n(t,n,a){function o(){t.show=!1}t.isEditMode=!1,t.formatDate=e.formatDate,t.hide=o,t.getProjects(),t.edit=function(){t.isEditMode=!0,t.cache=angular.copy(t.observation)},t.search=function(e){var t=e.target.innerText;console.log(t),i.$broadcast("search",t)},t.cancel=function(){t.isEditMode=!1,t.observation=t.cache}}function a(e,i,n){e.saveChanges=function(){e.isEditMode=!1,i.updateObservation(e.observation.id,e.observation.activity,e.observation.data.text).then(function(e){t.success("Your observation has been updated.")})},e["delete"]=function(){confirm("Are you sure you want to delete your observation?")&&i.deleteContent("observations",e.observation.id).then(function(i){e.$emit("delete",e.observation.id),t.success("The observation has been deleted.")})},e.getProjects=function(){i.getArray("activities").then(function(t){return e.allProjects=t,t})}}var o={scope:{observation:"=",comments:"=",show:"=",editable:"=","avatar-url":"="},link:n,templateUrl:"app/widgets/nn-observation-modal.html",restrict:"EA",controller:["$scope","dataservice",a]};return o}angular.module("app.widgets").directive("nnObservationModal",e),e.$inject=["utility","logger","$rootScope"]}(),function(){"use strict";function e(e){function t(e,t,i){e.isEditMode=!1,e.getProjects(),e.edit=function(){e.isEditMode=!0,e.cache=angular.copy(e.observation)},e.cancel=function(){e.isEditMode=!1,e.observation=e.cache},e.view=function(){e.$emit("view",e.observation.id)}}function i(t,i){t.saveChanges=function(){t.isEditMode=!1,i.updateObservation(t.observation.id,t.observation.activity,t.observation.data.text).then(function(t){e.success("Your observation has been updated.")})},t["delete"]=function(){confirm("Are you sure you want to delete your observation?")&&i.deleteContent("observations",t.observation.id).then(function(i){t.$emit("delete",t.observation.id),e.success("The observation has been deleted.")})},t.getProjects=function(){i.getArray("activities").then(function(e){return t.allProjects=e,e})}}var n={scope:{observation:"=",editable:"="},link:t,templateUrl:"app/widgets/nn-observation.html",restrict:"EA",controller:["$scope","dataservice",i]};return n}angular.module("app.widgets").directive("nnObservation",e),e.$inject=["logger"]}(),function(){"use strict";function e(e,t){function i(i,n,a){function o(t){e.$broadcast("map:show",t)}function s(){i.limit=parseInt(i.limit)+parseInt(l)}function r(){i.limit=parseInt(l)}i.$watch("observations",r),console.log(i.imageOnly),console.log(i);var l=i.limit.slice(0);i.formatDate=t.formatDate,i.showObservation=o,i.incrementLimit=s}var n={scope:{observations:"=",limit:"@",expandable:"@",imageOnly:"@"},link:i,templateUrl:"app/widgets/nn-observations-list.html",restrict:"EA"};return n}angular.module("app.widgets").directive("nnObservationsList",e),e.$inject=["$rootScope","utility"]}(),function(){"use strict";function e(e,t){function i(t,i,n){function a(){t.resetObservation(),t.show=!1}t.formatDate=e.formatDate,t.hide=a,t.isEditMode=!1,t.open=function(){t.resetObservation(),t.show=!0},t.resetObservation=function(){t.observation={}},t.edit=function(){t.isEditMode=!0,t.cacheTitle=angular.copy(t.title),t.cacheDescription=angular.copy(t.description)},t.cancel=function(){t.isEditMode=!1,t.description=t.cacheDescription,t.title=t.cacheTitle}}function n(e,i,n){e.saveChanges=function(){i.updateProject(e.project.id,e.project.name,e.project.description).then(function(i){t.success("Your project has been updated."),e.isEditMode=!1})}}var a={scope:{url:"=",title:"=",description:"=",comments:"=",observation:"=",observations:"=",displayLimit:"=",show:"=",editable:"=",project:"="},link:i,templateUrl:"app/widgets/nn-project-modal.html",restrict:"EA",controller:["$scope","dataservice",n]};return a}angular.module("app.widgets").directive("nnProjectModal",e),e.$inject=["utility","logger"]}(),function(){"use strict";function e(e,t){function i(e,t,i){function n(){e.show=!1}e.hide=n}function n(e,i){e.submitQuestion=function(){console.log(e.content),e.content?confirm("Submit question?")&&(i.addQuestion(e.content).then(function(e){t.success("Your question has been submitted.")}),e.content="",e.show=!1):(console.log("Question was empty."),t.error("Question cannot be empty"))}}var a={scope:{content:"@",show:"="},link:i,templateUrl:"app/widgets/nn-question-modal.html",restrict:"EA",controller:["$scope","dataservice",n]};return a}angular.module("app.widgets").directive("nnQuestionModal",e),e.$inject=["utility","logger"]}(),function(){"use strict";function e(){function e(e,t,i){function n(){e.likes=a("likes",!0),e.dislikes=a("likes",!1),e.comments=a("comments"),e.liked=!!e.data.likes&&e.data.likes[e.uid]===!0,e.disliked=!!e.data.likes&&e.data.likes[e.uid]===!1}function a(t,i){if(e.data[t]){var n=0,a=void 0;for(a in e.data[t])"undefined"!=typeof i&&e.data[t][a]!==i||n++;return n}return 0}e.$watchCollection("data.likes",n),e.$watchCollection("data.comments",n)}function t(e,t){var i=t.getAuth();e.uid=i?i.uid:null,e.doLike=function(){e.context&&t.likeContent(e.context,e.data,!0)},e.doDislike=function(){e.context&&t.likeContent(e.context,e.data,!1)}}var i={scope:{data:"=",showDislikes:"=",context:"@"},link:e,templateUrl:"app/widgets/nn-social-totals.html",restrict:"EA",controller:["$scope","dataservice",t]};return i}angular.module("app.widgets").directive("nnSocialTotals",e)}(),function(){"use strict";function e(){function e(e,t,i){}var t={scope:{status:"="},link:e,templateUrl:"app/widgets/nn-status.html",restrict:"EA"};return t}angular.module("app.widgets").directive("nnStatus",e)}(),angular.module("app.core").run(["$templateCache",function(e){e.put("app/auth/auth.html",'<style>\n.profile-img {\n  width: 120px;\n  height: 120px;\n}\n</style><div ng-if="vm.mode === \'signin\'" style class=modal-body><div class=auth__content ng-include="\'app/auth/signin.html\'"></div></div><div class="modal-dialog -center-nav" ng-if="vm.mode !== \'signin\'" ng-click=$event.stopPropagation() data-backdrop=true><div class=modal-content><div class=modal-header><button type=button class=close ng-click=vm.close() aria-hidden=true>&times;</button><div class=modal-title><section class="main__section masthead"><header style=text-align:center; class=masthead__header><div class="fa-stack fa-5x" ng-hide="vm.avatar!=null"><i style=color:grey; class="fa fa-circle fa-stack-2x"></i> <i style=color:white; class="fa fa-user fa-stack-1x"></i></div><img ng-hide="vm.avatar==null" class=profile-img ng-src={{vm.avatar}} ngf-src="!vm.avatarFile[0].$error && vm.avatarFile[0]"><div ngf-drop ngf-select ng-drag-over-class="\'dragover\'" ngf-multiple=false ngf-pattern="\'image/*\'" accept=image/* ng-model=vm.avatarFile style=width:100%;height:100%><div class=auth__upload><h3 style=color:#4DB26A;>Change Profile Photo</h3></div></div></header><div class=masthead__text>{{description}}</div></section></div></div><div style="overflow-y: auto; height:425px;" class=modal-body><div ng-if="vm.mode === \'register\'" class=auth__content ng-include="\'app/auth/register.html\'"></div><div ng-if="vm.mode === \'update\'" class=auth__content ng-include="\'app/auth/edit.html\'"></div></div></div></div>'),e.put("app/auth/edit.html",'<form class=form-horizontal novalidate ng-submit=vm.apply()><div style="padding-top: 15px;" class=input-group><span class=input-group-addon><i class="fa fa-fw fa-user"></i></span> <input class=form-control required placeholder=Username type=text ng-model=vm.name></div><div style="padding-top: 15px;" class=input-group><span class=input-group-addon><i class="fa fa-fw fa-id-card"></i></span> <input class=form-control required placeholder="Real Name (private)" type=text ng-model=vm.realname></div><div style="padding-top: 15px;" class=input-group><span class=input-group-addon><i class="fa fa-fw fa-info"></i></span> <input class=form-control required placeholder="Describe yourself" type=text ng-model=vm.bio></div><div style="padding-top: 15px;" class=input-group><span class=input-group-addon><i class="fa fa-fw fa-map-marker"></i></span><select class=form-control required placeholder="Site Affiliation" ng-model=vm.affiliation ng-options="s.name for s in vm.sites"><option disabled selected hidden value>Site Affiliation</option></select></div><label style=padding-top:15px;>Groups</label><div ng-repeat="g in vm.groups"><div class=row ng-if=$even><div class="col-sm-offset-2 col-xs-5"><input type=checkbox ng-hide="vm.groups[$index].id == null" ng-model=vm.membership[vm.groups[$index].id]>&nbsp;<span>{{vm.groups[$index].name}}</span></div><div class=col-xs-5><input type=checkbox ng-hide="vm.groups[$index + 1].id == null" ng-model="vm.membership[vm.groups[$index + 1].id]">&nbsp;<span>{{vm.groups[$index + 1].name}}</span></div></div></div><h2 style="font-size: 1.5em; padding-top:40px; text-align: center;">Optional. This data will be visible to researchers only.</h2><div class=auth__form><div class=auth__form><h3 style=padding-top:15px;>What is your age range?</h3><select class=form-control required placeholder=Age ng-model=vm.age ng-options="a for a in vm.ageOptions"><option disabled selected hidden value>Age</option></select><h3 style=padding-top:15px;>What is your gender?</h3><select class=form-control required placeholder=Gender ng-model=vm.gender ng-options="g for g in vm.genderOptions"><option disabled selected hidden value>Gender</option></select></div><h3>What is your primary racial identity?</h3><div ng-repeat="r in vm.raceOptions"><input type=checkbox ng-model=vm.race[r]> {{r}}</div></div><div style=text-align:center; class=row><input class="button button--auth" value=apply type=submit></div></form>'),e.put("app/auth/register.html",'<form novalidate ng-submit=vm.apply()><div class=auth__text>You are invited to participate in NatureNet, a research project being conducted by the researchers listed at <a href=http://research.nature-net.org/people.html target=_blank>http://research.nature-net.org/people.html</a>. Researchers are interested in seeing what kind of information is posted to NatureNet and how it is used and shared. Your name and email will not be visible to any other participants unless you so choose, and we will not provide it to any third party.</div><div style="padding-top: 15px;" class=input-group><span class=input-group-addon><i class="fa fa-fw fa-envelope"></i></span> <input class=form-control required placeholder=Email type=text ng-model=vm.email></div><div style="padding-top: 15px;" class=input-group><span class=input-group-addon><i class="fa fa-fw fa-lock"></i></span> <input class=form-control required placeholder="Really secure password" type=text ng-model=vm.password></div><div style="padding-top: 15px;" class=input-group><span class=input-group-addon><i class="fa fa-fw fa-id-card"></i></span> <input class=form-control required placeholder="Real name (private)" type=text ng-model=vm.realname></div><div style="padding-top: 15px;" class=input-group><span class=input-group-addon><i class="fa fa-fw fa-user"></i></span> <input class=form-control required placeholder=Username type=text ng-model=vm.name></div><div style="padding-top: 15px;" class=input-group><span class=input-group-addon><i class="fa fa-fw fa-map-marker"></i></span><select class=form-control required placeholder="Site Affiliation" ng-model=vm.affiliation ng-options="s.name for s in vm.sites"><option disabled selected hidden value>Site Affiliation</option></select></div><div style=text-align:center;><input style=margin-top:30px; class="button button--auth" value=join type=submit></div></form>'),e.put("app/auth/signin.html",'<div class="modal-dialog -center-nav" ng-click=$event.stopPropagation() data-backdrop=true><div class=modal-content><div class=modal-header><button type=button class=close ng-click=vm.close() aria-hidden=true>&times;</button><div class=modal-title><form class="auth__form auth__form--signin" ng-submit="vm.login(vm.email, vm.password)"><div class=auth__logo></div><input class=form-control placeholder=email type=text ng-model=vm.email> <input class=form-control placeholder=password type=password ng-model=vm.password><p class=auth__reset ng-click=vm.reset()>Reset my password</p><input style=width:100%; class=button value="sign in" type=submit></form></div></div></div></div>'),e.put("app/communities/communities.html",'<div id=wrapper ng-class={toggled:vm.isDrawerVisible}><div width id=sidebar-wrapper><div style=width:100%; class="sidebar sidebar--projects"><header class="sidebar__header sidebar__header--people"><div class="nn-dropdown nn-dropdown--people" ng-class="{ \'nn-dropdown--show-list\': !!vm.isPeopleListVisible }"><div class=nn-dropdown__display><span>People</span> <a class="small-device drawer-icon btn btn-primary" ng-click=vm.updateDrawer() id=menu-toggle><i ng-class="{\'fa-arrow-right\':!vm.isDrawerVisible, \'fa-arrow-left\':vm.isDrawerVisible}" class=fa></i></a></div><div style="padding-bottom: 50px; padding-top:0px; padding-left:15px;" class=nn-dropdown__options><div style="padding-top: 15px;" class=input-group><span class=input-group-addon><i class="fa fa-fw fa-search"></i></span> <input class=form-control placeholder="Search for People" type=text ng-model=vm.query></div><div class=nn-dropdown__option ng-repeat="u in vm.users | filter:{ display_name:vm.query } | orderBy: \'-created_at\' | orderBy: \'-latest_contribution\' | emptyToEnd: \'latest_contribution\' | limitTo: vm.peopleDisplayLimit" ng-click=vm.updateUserId(u.id)><nn-badge class=nn-badge title={{u.display_name}} subtitle={{vm.sites[u.affiliation].name}} avatar-url={{u.avatar}}></nn-badge></div><div class=sidebar__see-more ng-if="vm.users.length > vm.peopleDisplayLimit"><a href=# ng-click=vm.showMore()>Show More</a></div></div></div></header><header class="sidebar__header sidebar__header--groups"><div class="nn-dropdown nn-dropdown--groups" ng-class="{ \'nn-dropdown--show-list\': !!vm.isGroupsListVisible }"><div class=nn-dropdown__display ng-click="vm.isGroupsListVisible = !vm.isGroupsListVisible"><span>Groups</span><div class=nn-dropdown__action></div></div><div style="padding-top:0px; padding-left:15px;" class=nn-dropdown__options><div style="padding-top: 15px;" class=input-group><span class=input-group-addon><i class="fa fa-fw fa-search"></i></span> <input class=form-control placeholder="Search for Groups" type=text ng-model=vm.groupQuery></div><div class=nn-dropdown__option ng-repeat="g in vm.groups | filter:{ name:vm.groupQuery } | orderBy: \'-updated_at\' | limitTo: vm.groupsDisplayLimit" ng-click=vm.updateGroupId(g.id)><nn-badge class=nn-badge title={{g.name}} subtitle={{vm.sites[g.affiliation].name}} avatar-url={{g.avatar}}></nn-badge></div><div class=sidebar__see-more ng-if="vm.groups.length > vm.groupsDisplayLimit"><a href=# ng-click="vm.groupsDisplayLimit = vm.groupsDisplayLimit + vm.sidebarDisplayLimit">Show More</a></div></div></div></header></div></div><a class="drawer-icon btn btn-primary" ng-click=vm.updateDrawer() id=menu-toggle><i ng-class="{\'fa-arrow-right\':!vm.isDrawerVisible, \'fa-arrow-left\':vm.isDrawerVisible}" class=fa></i></a><div id=page-content-wrapper class=clearfix><div class="main main--projects"><section style=padding-bottom:100px; class="main__section masthead"><div class=masthead__text><div ng-show=vm.userId ng-include="\'app/communities/user.html\'"></div><div ng-show=vm.groupId ng-include="\'app/communities/group.html\'"></div></div><div style=height:250px;></div></section></div></div></div><div ng-if="vm.observation && vm.showDetail"><nn-observation-modal editable="vm.observation.observer === $root.currentUser || $root.userRank === \'admin\'" observation=vm.observation avatar-url={{$root.users[vm.observation.observer].avatar}} comments=vm.comments show=vm.showDetail></nn-observation-modal></div>'),
e.put("app/communities/group.html",'<section class="main__section masthead"><header class=masthead__header><nn-badge class="nn-badge nn-badge--banner" title={{vm.group.name}} subtitle={{vm.userSite}} avatar-url={{vm.group.avatar}}></nn-badge></header><div class=masthead__text>{{vm.group.bio}}</div></section><section class="main__section recent-contributions"><div class=main__subtitle>Contributions by {{vm.group.name}}</div><div class=main__subtitle ng-repeat-start="uid in vm.groupMembers"><nn-badge class="nn-badge clickable" title={{$root.users[uid].display_name}} avatar-url={{$root.users[uid].avatar}} ng-click=vm.updateUserId(uid)></nn-badge></div><nn-observations-list ng-repeat-end observations=vm.observations[uid] limit=5></nn-observations-list></section>'),e.put("app/communities/user.html",'<style>\n  @media (max-width: 768px){\n    .mobile-user {\n      text-align:center;\n    }\n  }\n</style><section class="mobile-user main__section masthead"><header class=masthead__header><div class="nn-badge nn-badge--banner"><div ng-hide=!vm.userAvatar class=nn-badge__avatar style="background-image: url(\'{{vm.userAvatar}}\')"></div><span ng-hide=vm.userAvatar style=font-size:3.75em; class="fa-stack fa-2x"><i style=color:grey; class="fa fa-circle fa-stack-2x"></i> <i style=color:white; class="fa fa-user fa-stack-1x"></i></span><div class=nn-badge__text style=max-width:400px;><p style="font-size:42px; overflow:visible;" class=nn-badge__title>{{$root.users[vm.userId].display_name}}</p><p style=padding-top:5px; class=nn-badge__subtitle><i class="fa fa-map-marker"></i> {{vm.userSite}}</p></div><div style="height: 30px; width:100%; padding-top:20px; padding-bottom:10px;" class=masthead__text>{{$root.users[vm.userId].bio}}</div></div></header><hr style="margin-bottom: 10px; border-color:Silver;"></section><section class="main__section recent-contributions"><h3 class=main__subtitle>Recent Contributions</h3><nn-observations-list observations=vm.observations[vm.userId] limit={{vm.mainDisplayLimit}} expandable=true imageonly=false></nn-observations-list><h3 class=main__subtitle>Recent Design Ideas</h3><nn-ideas-list ideas=vm.ideas[vm.userId] limit={{vm.mainDisplayLimit}} expandable=true></nn-ideas-list></section><section class="main__section main__section--groups"><h3 class=main__subtitle>Groups</h3><div class=main__groups><div style=margin-top:15px; class=col-xs-4 ng-click=vm.updateGroupId(g.id) ng-if="vm.userGroups.length > 0" ng-repeat="g in vm.userGroups | orderBy: \'-updated_at\' | limitTo: vm.groupsDisplayLimit"><div ng-hide={{g.avatar}} style=font-size:1.65em; class="fa-stack fa-2x"><i style=color:grey; class="fa fa-circle fa-stack-2x"></i> <i style=color:white; class="fa fa-user fa-stack-1x"></i></div><div style=display:inline;>{{g.name}}</div></div><div ng-if="vm.userGroups.length === 0">No groups.</div></div><div class ng-if="vm.userGroups.length > vm.groupsDisplayLimit"><a href=# ng-click="vm.groupsDisplayLimit = vm.groupsDisplayLimit + vm.mainDisplayLimit">Show More</a></div></section>'),e.put("app/contributions/contributions.html",'<style>\n\n.drop-box {\n  padding-top:45px;\n  padding-bottom:45px;\n  background-color: #E9EAEE;\n}\n\n.drop-box-item {\n  width: 100%;\n  display: block;\n  padding-top:10px;\n}\n\n</style><div id=wrapper ng-class={toggled:vm.isDrawerVisible}><div width id=sidebar-wrapper><div style=width:100%; class="sidebar sidebar--projects"><header class=sidebar__header><div class="nn-dropdown nn-dropdown--contrib nn-dropdown--show-list"><div class=nn-dropdown__display><span>Contributions</span> <a class="small-device drawer-icon btn btn-primary" ng-click=vm.updateDrawer() id=menu-toggle><i ng-class="{\'fa-arrow-right\':!vm.isDrawerVisible, \'fa-arrow-left\':vm.isDrawerVisible}" class=fa></i></a></div><div class=nn-dropdown__options><div class=list-item ng-repeat="o in vm.myObservations | orderBy: \'-updated_at\' | filter:{ status : \'!deleted\' }" ng-click=vm.showObservation(o)><nn-image class=list-item__image image-url="{{o.data.image | img_preview}}"></nn-image><div class=list-item__detail><nn-comment class="nn-badge list-item__comment" name={{$root.users[o.observer].display_name}} date={{o.updated_at}} avatar-url={{$root.users[o.observer].avatar}} comment={{o.data.text}}></nn-comment><nn-social-totals class=totals data=o></nn-social-totals></div></div></div></div></header></div></div><a class="drawer-icon btn btn-primary" ng-click=vm.updateDrawer() id=menu-toggle><i ng-class="{\'fa-arrow-right\':!vm.isDrawerVisible, \'fa-arrow-left\':vm.isDrawerVisible}" class=fa></i></a><div id=page-content-wrapper class=clearfix><div class="main main--projects"><section style=padding-bottom:100px; class="main__section masthead"><div class=masthead__text><form class="masthead__form clearfix"><div class=container-fluid><div ngf-drop ngf-select class="drop-box col-xs-12" style="height:200px; overflow:scroll;" ng-drag-over-class="\'dragover\'" ngf-multiple=false ngf-pattern="\'image/*\'" accept=image/* ng-model=vm.file><span style="width: 100%; text-align:center;" ng-if="!vm.uploading && !vm.file"><i style="font-size:100px; color:#99A6B1;" class="fa fa-large fa-upload"></i><h3 class=drop-box-item>Drag and Drop, Or Click</h3><span style="font-size:.8em; color: #99A6B1;" class=drop-box-item>TO UPLOAD (PNG, JPG, PDF)</span></span> <img ng-if=vm.file ngf-src="!vm.file[0].$error && vm.file[0]" style="display:block;margin:0 auto;width:100%;"> {{vm.file[0].name}}<uib-progressbar style="padding: 0 2em;" ng-if=vm.uploading value=vm.progress type=info max=100 animate=true title="Upload progress">Uploading...</uib-progressbar></div><div style=padding-bottom:15px; class="col-xs-12 col-lg-6"><textarea ng-model=vm.contribution.data.text placeholder="Write a caption" class=form-control rows=4 style=resize:vertical;></textarea></div><div style=padding-bottom:15px; class="col-xs-12 col-lg-6"><div style=padding-bottom:15px; class="input-group mb-2 mr-sm-2 mb-sm-0"><div class=input-group-addon><i class="fa fa-map-marker"></i></div><input class=form-control placeholder="Add a Location" type=text g-places-autocomplete ng-model=vm.place></div><span class=masthead__directions>Project</span><select class=form-control ng-model=vm.contribution.activity ng-options="a.id as a.name for a in vm.allProjects"><option disabled selected hidden value>Free Observation (Default)</option></select></div><div class="col-xs-12 text-right" style="margin-top: 1em"><button class="btn btn-link" type=button ng-click=vm.reset()>Clear</button> <button class="btn btn-success" type=button ng-click=vm.submit()>Submit</button></div></div></form></div><div style=height:200px;></div></section></div></div></div>'),e.put("app/core/404.html","<section class=fourzerofour></section>"),e.put("app/explore/explore.html",'<style>\n  .toggled-map {\n    width: calc(100% - 70px);\n    margin-left: -250px;\n  }\n\n  .untoggled-map {\n    width: calc(100% + 250px);\n    margin-left: -250px;\n  }\n\n  .custom-pin {\n    height: 25px;\n    line-height: .25;\n    width: 55px;\n    padding: 15px;\n    text-align: center;\n    cursor: pointer;\n    color: white;\n    background: #354a5f;\n    position: absolute;\n    border-radius: 25px;\n    border: 3px solid #4db26a;\n    font-size: 1em;\n    font-weight: bold;\n  }\n\n  .custom-pin::after {\n    position: absolute;\n    top: 99%;\n    left: calc(50% - .5em);\n  }\n\n  .custom-pin:hover {\n    transform: scale(1.15);\n  }\n</style><div id=wrapper ng-class={toggled:vm.isDrawerVisible}><div width id=sidebar-wrapper><div style=width:100%; class="sidebar sidebar--projects"><header class=sidebar__header><div class="nn-dropdown nn-dropdown--explore" ng-class="{ \'nn-dropdown--show-list\': !!vm.isObservationsListVisible }"><div class=nn-dropdown__display><span>Observations</span> <a class="small-device drawer-icon btn btn-primary" ng-click=vm.updateDrawer() id=menu-toggle><i ng-class="{\'fa-arrow-right\':!vm.isDrawerVisible, \'fa-arrow-left\':vm.isDrawerVisible}" class=fa></i></a></div><div class=nn-dropdown__options><div class=nn-dropdown__option><form><input class=form-control type=text placeholder=search ng-model=vm.query></form></div><div class=list-item ng-repeat="o in filtered = (vm.observations | filter: {data: {text: vm.query} } | orderBy: \'-updated_at\' ) | limitTo: vm.limit" ng-click=vm.showSidebar(o)><nn-image class=list-item__image image-url="{{o.data.image | img_preview}}"></nn-image><div class=list-item__detail><nn-comment class="nn-badge list-item__comment" limit=80 name={{$root.users[o.observer].display_name}} date={{o.updated_at}} avatar-url={{$root.users[o.observer].avatar}} comment={{o.data.text}}></nn-comment><nn-social-totals class="totals detail__totals" data=o context=observations show-dislikes=false></nn-social-totals></div></div><div style=padding-top:15px; ng-if="filtered.length > vm.limit"><a style=color:white; href=# ng-click="vm.limit=vm.limit+5">Show More</a></div></div></div></header></div></div><div id=page-content-wrapper style=position:absolute; class=clearfix><a style="transform: translateX(0px); z-index:1000; top:50px; position:absolute;" ng-click=vm.updateDrawer() class="btn btn-primary" id=menu-toggle><i ng-class="{\'fa-arrow-right\':!vm.isDrawerVisible, \'fa-arrow-left\':vm.isDrawerVisible}" class=fa></i></a><div class="page-map ng-scope has-map" ng-class="{\'toggled-map\': vm.isDrawerVisible, \'untoggled-map\':!vm.isDrawerVisible}"><ng-map style="height: 100% !important;" class="map ng-scope has-sidebar" default-style=true center="United States of America" on-idle=vm.onMapMoved()><info-window id=bar max-width=200><div ng-non-bindable><div id=siteNotice></div><div ng-click=vm.openDetails() style="cursor: pointer; padding-left:20px;" id=bodyContent><h1 style="padding: 20px 0 5px 0; font-size:2em;" id=firstHeading class=firstHeading>{{$root.users[vm.currentObservation.observer].display_name}}</h1><h3 style="color: slate; padding: 0px 0 10px 0;">{{vm.currentProject.name}}</h3><img style="width:200px; height:200px" src={{vm.currentObservation.data.image}}><p ng-show=vm.currentObservation.where style=margin-top:10px;><i class="fa fa-map-marker"></i> {{vm.currentObservation.where}}</p><p ng-if=vm.currentObservation.data.text ng-bind-html=vm.currentObservation.data.text hashtagify term-click="vm.search($event); $event.stopPropagation();" style="margin:10px 0 10px 0;"></p><nn-social-totals class="totals detail__totals" data=vm.currentObservation context=observations show-dislikes=false></nn-social-totals></div></div></info-window></ng-map></div></div></div><div ng-if="vm.currentObservation && vm.showDetail"><nn-observation-modal editable="vm.currentObservation.observer === $root.currentUser || $root.userRank === \'admin\'" observation=vm.currentObservation avatar-url={{$root.users[vm.currentObservation.observer].avatar}} comments=vm.comments show=vm.showDetail></nn-observation-modal></div>'),e.put("app/home/home-basic.html",'<div class=home-content><div class=home-intro><div class=home-boxes><div class=boxes--upper><div class=box--upper-left><div class=box__text style="text-align: right;"><a class="box__label inline-icon icon--large icon--learn" href=# ng-click=vm.showObservation()>Explore:</a> Learn about nature in your area</div><a href=# ng-click=vm.showObservation()><nn-image class=box__image image-url=https://res.cloudinary.com/university-of-colorado/image/upload/t_web-feature/v1471987089/static/learn.jpg></nn-image></a></div><div class=box--upper-right><a href=/communities><nn-image class=box__image image-url=https://res.cloudinary.com/university-of-colorado/image/upload/t_web-feature/v1480440120/static/share.jpg></nn-image></a><div class=box__text><a class="box__label inline-icon icon--large icon--share" href=/communities>Communities:</a> Share your observations and ideas</div></div></div><div class=boxes--lower><div class=box--lower-left><div class=box__text style="text-align: right;"><a class="box__label inline-icon icon--large icon--shape" href=/projects>Projects:</a> Improve and shape sustainability initatives</div><a href=/projects><nn-image class=box__image image-url=https://res.cloudinary.com/university-of-colorado/image/upload/t_web-feature/v1460772115/xkmtpemilwmse1gvxkgk.jpg></nn-image></a></div><div class=box--lower-right><a href=/ideas><nn-image class=box__image image-url=https://res.cloudinary.com/university-of-colorado/image/upload/t_web-feature/v1469724921/irhlvtis18ibmmr1vhzi.jpg></nn-image></a><div class=box__text><a class="box__label inline-icon icon--large icon--design" href=/ideas>Design:</a> New ways to use NatureNet</div></div></div></div></div><hr><div ng-controller="HeaderController as vm" ng-show=!vm.isAuthenticated style="width: 100%; text-align: center;"><a class="button button--joinnow" href=# ng-click=vm.showRegister()></a></div><div class="content content--featured" ng-hide=true><div class=content__text><div class=content__title>Featured on NatureNet</div><div class=featured>Observation</div><div class=featured>Community</div><div class=featured>Project</div><div class=featured>Design Idea</div></div></div><div class=content__footer><p style="text-align: center; margin-bottom: 1em;"><a target=_blank href="https://itunes.apple.com/us/app/naturenet/id1104382694?mt=8" style="display:inline-block;overflow:hidden;background:url(https://linkmaker.itunes.apple.com/images/badges/en-us/badge_appstore-lrg.svg) no-repeat;width:165px;height:40px;margin:10px 0;"></a> <a target=_blank href="https://play.google.com/store/apps/details?id=org.naturenet&utm_source=global_co&utm_medium=prtnr&utm_content=Mar2515&utm_campaign=PartBadge&pcampaignid=MKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1"><img alt="Get it on Google Play" src=images/google-play-badge.png style=height:60px;></a></p><p><a class="button button--inline" href="mailto:{{vm.contactEmail | deobfuscate}}">Contact Us</a> NatureNet is a platform for sharing place-based nature observations and contributing design ideas. Please do NOT contribute photos of humans or pets. NatureNet is a moderated site. Postings that are inappropriate or irrelevant will be deleted. If you want one of your observations to be removed, please send an email to <a href="mailto:{{vm.contactEmail | deobfuscate}}"><span>{{vm.contactEmail | deobfuscate}}</span></a> with a description of the content you would like to be removed.</p></div></div><div class=home-items><ul class="items items--observations"><li class=items__group>Recent Observations</li><li class=item ng-repeat="o in vm.observations | orderBy: \'-updated_at\' | limitTo: vm.observationsDisplayLimit" ng-click=vm.showObservation(o)><nn-badge class="nn-badge item__user" title={{$root.users[o.observer].display_name}} subtitle={{vm.formatDate(o.updated_at)}} avatar-url="{{o.data.image | img_thumb}}"></nn-badge><nn-social-totals class="item__totals totals -centerv" data=o></nn-social-totals></li><li class=items__action ng-if="vm.observations.length > vm.observationsDisplayLimit"><a href=# ng-click="vm.observationsDisplayLimit = vm.observationsDisplayLimit + 5">Show More</a></li></ul><ul class="items items--ideas"><li class=items__group>Recent Design Ideas</li><li class=item ng-repeat="i in vm.ideas | orderBy: \'-updated_at\' | limitTo: vm.ideasDisplayLimit"><nn-badge class="nn-badge item__user" title={{$root.users[i.submitter].display_name}} subtitle={{vm.formatDate(i.updated_at)}} avatar-url={{$root.users[i.submitter].avatar}}></nn-badge><nn-social-totals class="item__totals totals -centerv" data=i show-dislikes=true></nn-social-totals></li><li class=items__action ng-if="vm.ideas.length > vm.ideasDisplayLimit"><a href=# ng-click="vm.ideasDisplayLimit = vm.ideasDisplayLimit + 5">Show More</a></li></ul></div><div class=home-footer><ul class=footer-items><li><a href=http://www.uncc.edu target=_blank>The University of North Carolina at Charlotte</a></li><li><a href=http://www.colorado.edu target=_blank>University of Colorado Boulder</a></li><li><a href=http://www.umd.edu target=_blank>University of Maryland, College Park</a></li><li><a href=http://research.nature-net.org target=_blank>NatureNet Research</a></li></ul></div>'),e.put("app/home/home-new.html",'<div style=position:relative;width:100%;height:100%;><div class=scroller><section class="home__page page--intro container-fluid" id=intro><div class="page__content col-xs-12 col-md-7 col-md-offset-1"><div class="row content-row"><div class="col-xs-12 col-sm-12 content-col"><div class="h1 center-block">Get NatureNet now!</div><div style="display: block;"><a target=_blank href="https://itunes.apple.com/us/app/naturenet/id1104382694?mt=8" style="display:inline-block;overflow:hidden;background:url(https://linkmaker.itunes.apple.com/images/badges/en-us/badge_appstore-lrg.svg) no-repeat;width:165px;height:40px;margin:10px 0;"></a> <a target=_blank href="https://play.google.com/store/apps/details?id=org.naturenet&utm_source=global_co&utm_medium=prtnr&utm_content=Mar2515&utm_campaign=PartBadge&pcampaignid=MKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1"><img alt="Get it on Google Play" src=images/google-play-badge.png style=height:60px;></a></div></div></div><div class="row content-row"><div class="col-xs-12 col-sm-12 content-col"><div class="embed-responsive embed-responsive-16by9"><iframe class=embed-responsive-item src="https://player.vimeo.com/video/214832263?byline=0&portrait=0" width=640 height=360 frameborder=0 webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe><p><a href=https://vimeo.com/214832263>NatureNet: Technology for Community Environmental Learning</a> from <a href=https://vimeo.com/user37361955>videohall.com</a> on <a href=https://vimeo.com>Vimeo</a>.</p></div><a href=#projects class="page__next dark"></a></div></div></div><div class="page__preview hidden-xs hidden-sm col-md-4"><div class=phone__template><div class=phone-screens><img class=phone-screen src=/images/ss-splash.png> <img class=phone-screen src=/images/ss-map-preview-android.png> <img class=phone-screen src=/images/ss-map-zoom-android.png> <img class=phone-screen src=/images/ss-project-android.png> <img class=phone-screen src=/images/ss-obs-android.png></div></div></div></section><section class="home__page dark page--projects container-fluid" id=projects><div class="page__content col-xs-12 col-md-4 col-md-offset-2"><div class="page__title centered"><h1>Join a citizen science project</h1></div><div class=page__blurb><p>Help collect information about the environment. Select a topic from the list and contribute photos and descriptions directly from your phone through the NatureNet app.</p></div><a href=/projects class="page__goto button button--projects">Projects</a> <a href=#contributions class=page__next></a></div><div class="page__preview hidden-xs hidden-sm col-md-4"><div class=phone__template><div class=phone-screens><img class=phone-screen src=/images/ss-project-list-ios.png> <img class=phone-screen src=/images/ss-project-ios.png></div></div></div></section><section class="home__page page--contributions container-fluid" id=contributions><div class="page__content col-xs-12 col-md-4 col-md-offset-2"><div class=page__title><h1>Make your contribution</h1></div><div class=page__blurb><p>You can also upload your photos and descriptions to the nature-net.org website and comment on others you see there.</p></div><a href=/contributions class="page__goto button button--contributions">Contributions</a> <a href=#communities class="page__next dark"></a></div><div class="page__preview hidden-xs hidden-sm col-md-4"><div class=phone__template><div class=phone-screens><img class=phone-screen src=/images/ss-camera.png> <img class=phone-screen src=/images/ss-obs-ios.png></div></div></div></section><section class="home__page dark page--communities container-fluid" id=communities><div class="page__content col-xs-12 col-md-4 col-md-offset-2"><div class=page__title><h1>Find a friend</h1></div><div class=page__blurb><p>Connect with others who share your interests in a topic, a place, or an activity. Share tips, tools, and techniques for learning about and preserving the environment.</p></div><a href=/communities class="page__goto button button--communities">Communities</a> <a href=#ideas class=page__next></a></div><div class="page__preview hidden-xs hidden-sm col-md-4"><div class=phone__template><div class=phone-screens><img class=phone-screen src=/images/ss-user-list-ios.png></div></div></div></section><section class="home__page page--ideas container-fluid" id=ideas><div class="page__content col-xs-12 col-md-4 col-md-offset-2"><div class=page__title><h1>Be a part of the design</h1></div><div class=page__blurb><p>Share your ideas for new nature and environmental stewardship projects. Share your suggestions for improving the NatureNet mobile phone app and website.</p></div><a href=/ideas class="page__goto button button--ideas">Design Ideas</a> <a href=#summary class="page__next dark"></a></div><div class="page__preview hidden-xs hidden-sm col-md-4"><div class=phone__template><div class=phone-screens><img class=phone-screen src=/images/ss-idea-list-ios.png> <img class=phone-screen src=/images/ss-idea-ios.png></div></div></div></section><section class="home__page page--summary container-fluid" id=summary><div class="h1 center-block">Explore NatureNet</div><div class="row content-row" style="text-align: center;align-items:flex-end;"><div class="col-xs-6 col-md-2 col-md-offset-1 home-action-hover"><div class="homepage-icon icon-explore"></div><div>Contribute to NatureNet</div><a href=#summary ng-click=vm.showMap() class="button button--dark">Explore</a></div><div class="col-xs-6 col-md-2 home-action-hover"><div class="homepage-icon icon-projects"></div><div>Join a citizen science project</div><a href=/projects class="button button--dark">Projects</a></div><div class="col-xs-6 col-md-2 home-action-hover"><div class="homepage-icon icon-ideas"></div><div>Be a part of the design</div><a href=/ideas class="button button--dark">Design Ideas</a></div><div class="col-xs-6 col-md-2 home-action-hover"><div class="homepage-icon icon-communities"></div><div>Find a friend</div><a href=/communities class="button button--dark">Communities</a></div><div class="col-xs-6 col-md-2 home-action-hover"><div class="homepage-icon icon-contributions"></div><div>Make your contribution</div><a href=/contributions class="button button--dark">Contributions</a></div></div></section></div></div><div class=home-footer><ul class=footer-items><li><a href=http://www.uncc.edu target=_blank>The University of North Carolina at Charlotte</a></li><li><a href=http://www.colorado.edu target=_blank>University of Colorado Boulder</a></li><li><a href=http://www.umd.edu target=_blank>University of Maryland, College Park</a></li><li><a href=http://research.nature-net.org target=_blank>NatureNet Research</a></li></ul></div>'),e.put("app/home/home.html",'<div class=home-content><div class="content content--what"><div class=content__image></div><div class=content__text><h1 class=content__title>What is NatureNet?</h1><h2 class=content__subtitle>A community of citizen environmentalists whose members keep making it better.</h2><div class=content__description><p>NatureNet is a community of citizen environmentalists whose members keep making it better. Active sites include the Anacostia Watershed in Washington, D.C. and Maryland, Reedy Creek Nature Center in Charlotte, North Carolina, Aspen Center for Environmental Studies in Aspen, Colorado, and your backyard!</p><br><p class=content__lineitem>LEARN about nature in your community</p><p class=content__lineitem>SHARE your observations and ideas</p><p class=content__lineitem>SHAPE nature projects in your local community</p><p class=content__lineitem>DESIGN this nature technology with your community</p><br><p>This project is supported by the National Science Foundation under Grant No. IIS-1221513 and Grant No. 1423212 to the University of North Carolina at Charlotte, Grant No. 1423207 to the University of Maryland, and Grant No. 1423338 to the University of Colorado.</p></div></div></div><div class="content content--why"><div class=content__image></div><div class=content__text><h1 class=content__title>Why join NatureNet?</h1><p class=content__description>Do you want to participate in a biodiversity-preserving project in your area? Or do you have an idea for a new project and want to get a community behind you? Join NatureNet today, and don’t just be a voice in the crowd: be part of a crowd with a voice!</p></div></div><div ng-controller="HeaderController as vm" ng-show=!vm.isAuthenticated><a class="button button--joinnow" href=# ng-click=vm.showRegister()></a></div><div class=content__gallery><nn-observations-list observations=vm.observations limit=5></nn-observations-list></div><div class=content__footer><p><a class="button button--inline" href="mailto:{{vm.contactEmail | deobfuscate}}">Contact Us</a> NatureNet is a platform for sharing place-based nature observations and contributing design ideas. Please do NOT contribute photos of humans or pets. NatureNet is a moderated site. Postings that are inappropriate or irrelevant will be deleted.</p><p>If you want one of your observations to be removed, please send an email to <a href="mailto:{{vm.contactEmail | deobfuscate}}"><span>{{vm.contactEmail | deobfuscate}}</span></a> with a description of the content you would like to be removed.</p></div></div><div class=home-items><ul class="items items--observations"><li class=items__group>Recent Observations</li><li class=item ng-repeat="o in vm.observations | orderBy: \'-updated_at\' | limitTo: vm.observationsDisplayLimit" ng-click=vm.showObservation(o)><nn-badge class="nn-badge item__user" title={{$root.users[o.observer].display_name}} subtitle={{vm.formatDate(o.updated_at)}} avatar-url={{$root.users[o.observer].avatar}}></nn-badge><nn-social-totals class="item__totals totals -centerv" data=o></nn-social-totals></li><li class=items__action ng-if="vm.observations.length > vm.observationsDisplayLimit"><a href=# ng-click="vm.observationsDisplayLimit = vm.observationsDisplayLimit + 5">Show More</a></li></ul><ul class="items items--ideas"><li class=items__group>Recent Design Ideas</li><li class=item ng-repeat="i in vm.ideas | orderBy: \'-updated_at\' | limitTo: vm.ideasDisplayLimit"><nn-badge class="nn-badge item__user" title={{$root.users[i.submitter].display_name}} subtitle={{vm.formatDate(i.updated_at)}} avatar-url={{$root.users[i.submitter].avatar}}></nn-badge><nn-social-totals class="item__totals totals -centerv" data=i show-dislikes=true></nn-social-totals></li><li class=items__action ng-if="vm.ideas.length > vm.ideasDisplayLimit"><a href=# ng-click="vm.ideasDisplayLimit = vm.ideasDisplayLimit + 5">Show More</a></li></ul></div><div class=home-footer><ul class=footer-items><li><a href=http://www.uncc.edu target=_blank>University of North Carolina Charlotte</a></li><li><a href=http://www.colorado.edu target=_blank>University of Colorado Boulder</a></li><li><a href=http://www.umd.edu target=_blank>University of Maryland College Park</a></li></ul></div>'),e.put("app/ideas/ideas.html",'<style>\n  .full {\n    position: absolute;\n    height: 100%;\n    width: 100%;\n    color: rgba(60, 100, 100, 0);\n  }\n\n  .errspan {\n    float: left;\n    margin-right: 6px;\n    margin-top: -20px;\n    position: relative;\n    z-index: 2;\n  }\n\n  .full:hover {\n    position: absolute;\n    height: 100%;\n    width: 100%;\n    color: white;\n    text-align: center;\n  }\n  @media only screen and (min-width: 480px) {\n    .masthead-storyboard-overlay {\n      overflow: scroll;\n      position: absolute;\n      height: 100%;\n      width: 100%;\n      bottom: 0;\n      color: rgba(60, 100, 100, 0);\n    }\n  }\n\n  .masthead-storyboard-overlay:hover {\n    background-color: rgba(60, 100, 100, 0.95);\n  }\n\n  .comments {\n    cursor: pointer;\n    -webkit-box-shadow: 0px 2px 8px 1px rgba(199,199,199,1);\n    -moz-box-shadow: 0px 2px 8px 1px rgba(199,199,199,1);\n    box-shadow: 0px 2px 8px 1px rgba(199,199,199,1);\n  }\n\n  .comments:hover {\n    -webkit-box-shadow: 0px 2px 8px 3px rgba(140,140,140,1);\n    -moz-box-shadow: 0px 2px 8px 3px rgba(140,140,140,1);\n    box-shadow: 0px 2px 8px 3px rgba(140,140,140,1);\n  }\n\n  .filter-item.filter-item-bold {\n    font-weight: bold;\n    color: rgb(77, 178, 106);\n  }\n  .badge.filter-item-badge {\n    background: rgb(77, 178, 106);\n  }\n\n  .filter-item {\n    font-size: 1.25em;\n    padding-bottom: 20px;\n  }\n\n  form#idea-form {\n    background-color: white;\n    border: solid;\n    box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);\n  }\n</style><div id=wrapper ng-class={toggled:vm.isDrawerVisible}><div id=sidebar-wrapper><div style=width:100%; class="sidebar sidebar--projects"><header class=sidebar__header><div class="nn-dropdown nn-dropdown--ideas nn-dropdown--show-list"><div class=nn-dropdown__display><span>Design Ideas</span> <a class="small-device drawer-icon btn btn-primary" ng-click=vm.updateDrawer() id=menu-toggle><i ng-class="{\'fa-arrow-right\':!vm.isDrawerVisible, \'fa-arrow-left\':vm.isDrawerVisible}" class=fa></i></a></div><div class=nn-dropdown__options><div style="padding-bottom: 15px;" class=input-group><span class=input-group-addon><i class="fa fa-fw fa-search"></i></span> <input class=form-control placeholder="Search Design Ideas" type=text ng-model=vm.query></div><div class=filter-item ng-class="{\'filter-item-bold\': vm.filterType === \'!deleted\'}" ng-click="vm.setFilter(\'!deleted\')">all <span class=badge ng-class="{\'filter-item-badge\': vm.filterType === \'!deleted\'}">{{vm.filters.all}}</span></div><div class=filter-item ng-class="{\'filter-item-bold\': vm.filterType === \'doing\'}" ng-click="vm.setFilter(\'doing\')">discussing <span class=badge ng-class="{\'filter-item-badge\': vm.filterType === \'doing\'}">{{vm.filters.doing}}</span></div><div class=filter-item ng-class="{\'filter-item-bold\': vm.filterType === \'developing\'}" ng-click="vm.setFilter(\'developing\')">developing <span class=badge ng-class="{\'filter-item-badge\': vm.filterType === \'developing\'}">{{vm.filters.developing}}</span></div><div class=filter-item ng-class="{\'filter-item-bold\': vm.filterType === \'testing\'}" ng-click="vm.setFilter(\'testing\')">testing <span class=badge ng-class="{\'filter-item-badge\': vm.filterType === \'testing\'}">{{vm.filters.testing}}</span></div><div class=filter-item ng-class="{\'filter-item-bold\': vm.filterType === \'done\'}" ng-click="vm.setFilter(\'done\')">done <span class=badge ng-class="{\'filter-item-badge\': vm.filterType === \'done\'}">{{vm.filters.done}}</span></div></div></div></header></div></div><div ng-click="vm.showDetail=false" ng-if=vm.showQuestionForm style="min-height:100vh; position:absolute; z-index=100; background-color: rgba(60, 100, 100, 0.95); height:100%;" class="main main--projects"><nn-question-modal show=vm.showQuestionForm></nn-question-modal></div><a class="drawer-icon btn btn-primary" ng-click=vm.updateDrawer() id=menu-toggle><i ng-class="{\'fa-arrow-right\':!vm.isDrawerVisible, \'fa-arrow-left\':vm.isDrawerVisible}" class=fa></i></a><div id=page-content-wrapper class=clearfix><div class="main main--projects"><section class="main__section masthead"><div class=masthead__text><div class=masthead__storyboard style="background-image: url(\'/images/design-storyboard.jpg\')"><a href=http://www.freepik.com target=_blank>Designed by Dooder / Freepik</a><div class=masthead-storyboard-overlay><div class=full><p style="text-align: justify; padding:25px;">Crowdsourcing design is a way for anyone to contribute to the NatureNet experience. Designers change the world and the NatureNet project gives everyone a chance to be a designer. Your design idea can be a new way of using NatureNet in your community, a new way to use mobile technology for learning about sustainability or changes in the environment, or a new feature on the web site.</p><p style="text-align: justify; padding:25px;">Join the discussion below with an idea of your own, comment on someone else\'s idea, or vote for your favorite idea.</p></div></div></div><form id=idea-form ng-mouseover="vm.formVisible=true" ng-mouseleave="vm.formVisible=false" class="container-fluid clearfix" ng-submit=vm.addIdea()><div style="padding:15px; padding-bottom:0px;" class=row><div class=input-group><span style="border:none; background-color: white;" class=input-group-addon><i class="fa fa-2x fa-lightbulb-o"></i></span> <textarea style="z-index:0; box-shadow:none; resize: vertical; border:none" class=form-control required rows=2 placeholder="There should be a way for me to upload contributions that aren\'t photographs such as water test results #projects #contributions #testing" type=text ng-model=vm.content>\n              </textarea></div></div><div style="padding:15px; padding-top:0px;" class=row><div ng-show=vm.formVisible><hr><div class=col-xs-6><select class=form-control ng-options="item for item in vm.ideaTypes" ng-model=vm.type></select></div><div class="col-xs-6 text-right"><input style=width:100%; class="btn btn-success" ng-click=vm.addIdea() value=Submit></div></div></div></form><div style=padding-top:10px;><div class="comments list-item" ng-repeat="i in filtered = (vm.ideas | filter:{ status : vm.filterType, content: vm.query } | orderBy: \'-updated_at\' ) | limitTo: vm.ideasDisplayLimit" ng-click=vm.selectIdea(i)><div class="list-item__detail list-item__noimage"><nn-comment class="comment list-item__comment" limit=140 name={{$root.users[i.submitter].display_name}} date={{i.updated_at}} avatar-url={{$root.users[i.submitter].avatar}} comment={{i.content}}></nn-comment><nn-social-totals context=ideas class=totals data=i show-dislikes=true></nn-social-totals></div></div></div><div class=sidebar__see-more ng-if="filtered.length > vm.ideasDisplayLimit"><a style=color:black; href=# ng-click="vm.ideasDisplayLimit = vm.ideasDisplayLimit + vm.sidebarDisplayLimit">Show More</a></div><div style=height:300px;></div></div></section></div></div></div><div ng-click="vm.showDetail=false" ng-if="vm.selectedIdea && vm.showDetail" style="z-index:1000; min-height:100vh; position:absolute; background-color: rgba(60, 100, 100, 0.95); height:100%;" class="main main--projects"><div ng-click=$event.stopPropagation() ng-if="vm.selectedIdea && vm.showDetail"><nn-idea-modal editable="vm.selectedIdea.submitter === $root.currentUser || $root.userRank === \'admin\'" idea=vm.selectedIdea comments=vm.comments show=vm.showDetail></nn-idea-modal></div></div>'),
e.put("app/layout/header.html",'<style>\n\n.navbar {\n  margin-bottom: 0px;\n  border-bottom: thin solid #4db26a;\n}\n\n.navbar-header {\n  height:100%;\n  margin-left: auto;\n  margin-right: auto;\n  background-color: #4db26a\n}\n\n.navbar-nav li a {\n    line-height: 50px;\n}\n\n.navbar-toggle{\n  margin-top: 25px;\n}\n.nav > li.profile > a:hover, .nav > li.profile > a:focus {\n  color: #354a5f;\n  background-color: transparent;\n}\n\n.nav > li.nav-item > a:hover, .nav > li.nav-item > a:focus, .nav > li.nav-item > a.active {\n  color: #354a5f;\n  background-color:#30AB5F;\n}\n\nli.nav-item > a {\n  color: #354a5f;\n  font-weight: bolder;\n}\n\n#navbar {\n  padding-right:20px;\n}\n\n.navbar-default .navbar-toggle:hover, .navbar-default .navbar-toggle:focus {\n  background-color: #30AB5F;\n}\n\ni#nav-dropdown {\n  color: #354a5f;\n  padding-top:20px;\n  line-height: 10px;\n}\n\n.collapse-only {\n  display: none !important;\n}\n\n.collapse-hide {\n  display: block !important;\n}\n\n@media (max-width: 768px){\n\n  .navbar-nav .open .dropdown-menu > li > a {\n    line-height: 20px;\n  }\n  .navbar-nav .open .dropdown-menu > li > a,\n  .navbar-nav .open .dropdown-menu .dropdown-header {\n    padding: 5px 15px 5px 25px;\n  }\n  .dropdown-menu > li > a {\n    display: block;\n    padding: 3px 20px;\n    clear: both;\n    font-weight: normal;\n    line-height: 1.42857143;\n    white-space: nowrap;\n  }\n  .navbar-header {\n    float: none;\n  }\n  .navbar-toggle {\n    display: block;\n  }\n  .navbar-collapse {\n    border-top: 1px solid transparent;\n    background-color: #E9EAEE;\n    box-shadow: inset 0 1px 0 rgba(255,255,255,0.1);\n  }\n  .navbar-collapse.collapse {\n    display: none!important;\n  }\n  .navbar-nav {\n    float: none!important;\n    text-align: center;\n    font-size: 18px;\n  }\n  .navbar-nav>li {\n    float: none;\n  }\n  li.nav-item > a {\n    padding-left: 30px;\n    padding-top: 10px;\n    padding-bottom: 10px;\n  }\n  .navbar-text {\n    float: none;\n    margin: 15px 0;\n  }\n\n  .navbar-collapse.collapse.in {\n    display: block!important;\n  }\n  .collapsing {\n    overflow: hidden!important;\n  }\n  .pull-right {\n    float: none !important;\n  }\n  .collapse-only {\n    display: block !important;\n  }\n  .collapse-hide {\n    display: none !important;\n  }\n}\n\n</style><nav class="navbar navbar-static-top" style=height:80px; role=navigation><div class=navbar-header><button type=button class=navbar-toggle ng-init="navCollapsed = true" ng-click="navCollapsed = !navCollapsed"><span class=sr-only>Toggle navigation</span> <span style=background-color:white; class=icon-bar></span> <span style=background-color:white; class=icon-bar></span> <span style=background-color:white; class=icon-bar></span></button> <a href="/" style="height:80px; padding: 5px 10px;" class=navbar-brand><img src=/images/logo-color.png style=height:70px href="/" ng-click=vm.toggleMap(false)></a></div><div style=width:100%; id=navbar class="collapse navbar-collapse" ng-class="!navCollapsed && \'in\'" ng-click="navCollapsed = true" collapse=navCollapsed><ul class="nav navbar-nav"><li class=nav-item><a class=item-explore ng-click=vm.toggleMap() href=/explore><i class=fa></i> Explore</a></li><li ng-repeat="r in vm.navRoutes" class=nav-item><a class ng-class=vm.getClasses(r) ng-click=vm.toggleMap(false) ui-sref={{r.name}}><i class={{r.settings.icon}}></i> <span class="header-icon {{r.settings.icon}}"><span>{{r.settings.content}}</span></span></a></li><li ng-show=vm.isAuthenticated class="nav-item collapse-only"><a ng-click=vm.showEdit()><i class="fa fa-edit"></i> Edit Profile</a></li><li ng-show=vm.isAuthenticated class="nav-item collapse-only"><a ng-click=vm.signOut()>Sign Out</a></li></ul><ul class="nav navbar-nav navbar-right"><li class=nav-item ng-hide=vm.isAuthenticated><a href=# ng-click=vm.showRegister()><i class=fa></i> Join</a></li><li class=nav-item ng-hide=vm.isAuthenticated><a href=# ng-click=vm.showSignin()><i class="fa fa-user"></i> Sign In</a></li><li class="collapse-hide profile" ng-show=vm.isAuthenticated><a class=dropdown-toggle ng-click="vm.toggleDropdown=!vm.toggleDropdown" data-toggle=dropdown href=#><nn-badge class="nn-badge nn-badge--header" avatar-url={{$root.users[vm.userUid].avatar}} title={{$root.users[vm.userUid].display_name}} ng-click="vm.showPopup = !vm.showPopup"></nn-badge><i id=nav-dropdown ng-class="{\'fa fa-chevron-down\': vm.toggleDropdown, \'fa fa-chevron-right\': !vm.toggleDropdown}"></i></a><ul class=dropdown-menu ng-class="{\'show\': vm.toggleDropdown}"><li><a ng-click=vm.showEdit()><i class="fa fa-edit"></i> Edit Profile</a></li><li><a ng-click=vm.signOut()>Sign Out</a></li></ul></li></ul></div></nav>'),e.put("app/layout/shell.html",'<div class=page-logo><a href=#><i class=icon></i></a></div><header class=page-head ng-include="\'app/layout/header.html\'" ng-controller="HeaderController as vm"></header><main class=page-main ui-view></main><div ng-controller="ShellController as vm"></div><div ng-click="vm.showQuestionForm=false" ng-if=vm.showQuestionForm style="min-height:120vh; position:fixed; z-index=100; background-color: rgba(60, 100, 100, 0.95); height:100%;" class="main main--projects"><nn-question-modal ng-click=$event.stopPropagation() show=vm.showQuestionForm></nn-question-modal></div><div style="bottom: 0px; position: absolute; margin-bottom: 40px; margin-right: 30px; right: 0px; font-size: 2em; cursor:pointer;" type=button ng-click=vm.openQuestionForm() aria-label="Ask a Question"><span class=fa-stack><i style=color:#4DB36A; class="fa fa-circle fa-stack-2x icon-a"></i> <i style="color:white; font-size:1.65em" class="fa fa-question fa-stack-1x icon-b"></i></span></div><footer class=page-foot></footer><div style="background-color: rgba(60, 100, 100, 0.95);" class="page-over overlay" ng-hide=!vm.isAuth ng-click=vm.broadcastHideAuth()><div style="width:100%; min-height:300px;" ng-include="\'app/auth/auth.html\'" ng-controller="AuthController as vm"></div></div>'),e.put("app/projects/projects.html",'<div id=wrapper ng-class={toggled:vm.isDrawerVisible}><div width id=sidebar-wrapper><div style=width:100%; class="sidebar sidebar--projects"><header class="sidebar__heade sidebar__header--projects"><div class="nn-dropdown nn-dropdown--projects nn-dropdown--show-list"><div class=nn-dropdown__display><span>Projects</span> <a class="small-device drawer-icon btn btn-primary" ng-click=vm.updateDrawer() id=menu-toggle><i ng-class="{\'fa-arrow-right\':!vm.isDrawerVisible, \'fa-arrow-left\':vm.isDrawerVisible}" class=fa></i></a></div><div class=nn-dropdown__options><div style="padding-bottom: 15px;" class=input-group><span class=input-group-addon><i class="fa fa-fw fa-search"></i></span> <input class=form-control placeholder="Search Projects" type=text ng-model=vm.query></div><div ng-if=!!vm.localSite>Projects at {{vm.localSite}}</div><div class=nn-dropdown__option ng-if=!!vm.localProjects ng-repeat="p in vm.localProjects | filter: {name:vm.query} | orderBy: \'-latest_contribution\'" ng-click=vm.updateProjectId(p.id)><nn-badge class=nn-badge title="{{(p.name | limitTo: 18) + (p.name > 18 ? \'...\' : \'\')}}" subtitle avatar-url={{p.icon_url}}></nn-badge></div><div>All Projects</div><div class=nn-dropdown__option ng-repeat="p in vm.projects | filter: {name:vm.query} | orderBy: \'-latest_contribution\'" ng-click=vm.updateProjectId(p.id)><nn-badge class=nn-badge title={{p.name}} subtitle avatar-url={{p.icon_url}}></nn-badge></div></div></div></header></div></div><a class="drawer-icon btn btn-primary" ng-click=vm.updateDrawer() id=menu-toggle><i ng-class="{\'fa-arrow-right\':!vm.isDrawerVisible, \'fa-arrow-left\':vm.isDrawerVisible}" class=fa></i></a><div id=page-content-wrapper class=clearfix><div class="main main--projects"><section style=padding-bottom:100px; class="main__section masthead"><div class=masthead__text><p class=masthead__description><b style=font-size:1.25em;>Projects in NatureNet are a call to action!</b> They identify a question, a problem, or a topic that contributions can shed light on. Examples might include: examples of rainwater run-off, how many geese are present in our park, which non-native plants are invasive in our park.</p><div class=masthead__storyboard style="background-image: url(\'/images/project-storyboard.jpg\')"><a href=http://www.freepik.com target=_blank>Designed by Dooder / Freepik</a></div><p class=masthead__subtext>NatureNet is a moderated site. Postings that are inappropriate or irrelevant will be deleted.</p><p class=masthead__directions>Please give your project a short name (1-3 words) and a description. We suggest you add hashtags to your description such as: #capstone #subproject #water #pollution</p><form class=clearfix ng-submit=vm.createProject()><div class=form-group><label for=name>Project Title:</label> <input ng-model=vm.name placeholder="Tracking duck populations" class=form-control id=name></div><div class=form-group><label for=description>Project Description:</label> <textarea type=text ng-model=vm.description rows=4 placeholder="Because ducks are able to fly it can be extremely challenging to keep track of their populations and their migratory patterns. By taking photos of ducks around #Charlotte and #ReedyCreek we get a better understanding of their movements #ducks #birds #population #migration" class=form-control id=description>\n            </textarea></div><div class=form-group><label for=name>Site:</label><div ng-repeat="g in vm.sites"><input type=checkbox ng-hide="vm.sites[$index].name == null" ng-model=vm.affiliations[vm.sites[$index].id]>&nbsp;<span>{{vm.sites[$index].name}}</span></div></div><button class="btn btn-success" value=submit>Submit</button></form></div></section><div style=height:250px;></div></div></div></div><div ng-click="vm.show=false" ng-show=vm.show style="min-height:100vh; position:absolute; z-index:1000; background-color: rgba(60, 100, 100, 0.95); height:100%;" class="main main--projects"><div ng-click=$event.stopPropagation()><nn-project-modal editable="$root.projects[vm.projectId].submitter === $root.currentUser" url=$root.projects[vm.projectId].icon_url project=$root.projects[vm.projectId] title=$root.projects[vm.projectId].name description=$root.projects[vm.projectId].description observations=vm.projectObservations observation=vm.projectObservation comments=vm.comments limit=vm.displayLimit show=vm.show></nn-project-modal></div></div>'),e.put("app/widgets/nn-badge.html",'<div ng-hide=!avatarUrl class=nn-badge__avatar style="background-image: url(\'{{avatarUrl}}\')"></div><span ng-hide=avatarUrl style=font-size:1.65em; class="fa-stack fa-2x"><i style=color:grey; class="fa fa-circle fa-stack-2x"></i> <i style=color:white; class="fa fa-user fa-stack-1x"></i></span><div class=nn-badge__text><p class=nn-badge__title>{{title}}</p><p ng-if=!!subtitle class=nn-badge__subtitle>{{subtitle}}</p></div>'),e.put("app/widgets/nn-comment-form.html",'<form class="nn-badge comment" ng-submit=doComment()><div style=padding-left:0px class=col-xs-10><textarea class=form-control required placeholder="Write a comment..." ng-model=comment>\n  </textarea></div><div class=col-xs-2><input type=submit class="button button--edit" style="float:right; margin-top: 15px;" value=Send></div></form>'),e.put("app/widgets/nn-comment.html","<nn-badge class=\"nn-badge comment__user\" title={{name}} subtitle={{formatDate(date)}} avatar-url={{avatarUrl}}></nn-badge><div class=comment__text title={{comment}}>{{comment | limitTo: limit}}{{comment.length > limit ? '...' : ''}}</div>"),e.put("app/widgets/nn-dropdown.html",'<div class=nn-dropdown ng-class="{ \'nn-dropdown--show-list\': !!listVisible }"><div class=nn-dropdown__display ng-click=toggleOptions()><span ng-if=!isPlaceholder>{{display}}</span> <span class=placeholder ng-if=isPlaceholder>{{placeholder}}</span><div class=nn-dropdown__action></div></div><div class=nn-dropdown__options><div class=nn-dropdown__option ng-repeat="o in options" ng-class=isCurrent(o) ng-click=selectOption(o)><span>{{property !== undefined ? o[property] : o}}</span></div></div></div>'),e.put("app/widgets/nn-idea-modal.html",'<div class="modal-dialog -center-nav" ng-class="{show:show, hide:!show }" data-backdrop=true><div class=modal-content><div class=modal-header><button type=button class=close ng-click=hide() aria-hidden=true>&times;</button><div class=modal-title><nn-badge style=inline class="nn-badge detail__user" title={{$root.users[idea.submitter].display_name}} subtitle={{formatDate(idea.updated_at)}} avatar-url={{$root.users[idea.submitter].avatar}}></nn-badge><nn-status class=detail__status status=idea.status></nn-status><div class=detail__header ng-if=idea.type>{{idea.type}}</div></div></div><div class=modal-body><textarea ng-if=isEditMode class=detail__description ng-model=cache.content></textarea><div ng-if=!isEditMode class=detail__description>{{idea.content}}</div><img class=detail__image src="{{idea.icon_url | img_large }}" ng-if=idea.icon_url><nn-social-totals class="totals detail__totals" data=idea context=ideas show-dislikes=true></nn-social-totals><div ng-if=!isEditMode style="display:inline; float:right;"><input ng-if=editable class="button button--edit" ng-click=edit() value=edit type=submit> <input ng-if=editable class="button button--delete" ng-click=delete() value=delete type=submit></div><div ng-if=isEditMode style="display:inline; float:right;"><input class="button button--cancel" ng-click=cancel() value=cancel type=submit> <input class="button button--save" ng-click=saveChanges() value=save type=submit></div></div><div class=modal-footer><section align=left class=detail__comments><nn-comment class="comment detail__comment" ng-repeat="c in comments | orderBy: \'updated_at\'" name={{$root.users[c.commenter].display_name}} date={{c.updated_at}} avatar-url={{$root.users[c.commenter].avatar}} comment={{c.comment}}></nn-comment><nn-comment-form class="nn-badge comment list-item__comment" data=idea context=ideas></nn-comment-form></section></div></div></div><div style=height:100px;></div>'),e.put("app/widgets/nn-ideas-list.html",'<div class=main__ideas><div class="list-item list-item--square" ng-if="ideas.length > 0" ng-repeat="i in ideas | filter:{ status:\'!deleted\' } | orderBy: \'-updated_at\' | limitTo: limit" ng-click=showIdea(i)><div class="list-item__detail list-item__noimage"><nn-comment class="comment list-item__comment" limit=120 name={{$root.users[i.submitter].display_name}} date={{i.updated_at}} avatar-url={{$root.users[i.submitter].avatar}} comment={{i.content}}></nn-comment></div></div><div ng-if="ideas.length === 0">No Design Ideas.</div></div><div class ng-if="expandable && (ideas.length > limit)"><a href=# ng-click=incrementLimit()>Show More</a></div>'),e.put("app/widgets/nn-image.html",'<style>\n\n  .nn-thumbnail {\n    position: relative;\n    overflow: hidden;\n  }\n  .nn-thumbnail > img {\n    max-width: 100%;\n\n    -moz-transition: all 0.3s;\n    -webkit-transition: all 0.3s;\n    transition: all 0.3s;\n  }\n  .nn-thumbnail:hover > img {\n    -moz-transform: scale(1.25);\n    -webkit-transform: scale(1.25);\n    transform: scale(1.25);\n  }\n\n</style><div style=overflow:hidden; class><img style=padding:0px; class="img-responsive nn-image" src=/images/default-image.png ng-if=showDefault> <img style=padding:0px; class="img-responsive nn-image" src={{imageUrl}} ng-if=!showDefault></div>'),e.put("app/widgets/nn-observation-modal.html",'<style>\n  .section-content {\n    margin: 10px 0px 10px 0px;\n  }\n  @media screen and (max-width: 699px) {\n    .observation-modal-img {\n      margin:35px 0px 10px 0px;\n    }\n  }\n  @media screen and (min-width: 700px) {\n    .observation-modal-img {\n      margin:0px 0px 10px 0px;\n    }\n  }\n  .hashtag {\n    cursor:pointer;\n  }\n\n</style><div ng-click=hide() style="min-height: 100vh; position: absolute; background-color: rgba(60, 100, 100, 0.95); height: 100%; z-index:1000;" class=overlay-partial><div class="modal-dialog -center-nav show" ng-click=$event.stopPropagation() data-backdrop=true><div class=modal-content><div class=modal-body><div style=padding:0px; class=detail><div class=col-xs-12><button style=padding:5px; type=button class=close ng-click=hide() aria-hidden=true>&times;</button></div><div class="col-sm-6 observation-modal-img"><a ng-if=!!observation.data.image ng-href={{observation.data.image}} target=_new><img style=padding:0px; class="detail__image img-responsive" src="{{observation.data.image | img_large }}" ng-if=observation.data.image></a> <a ng-if=!!observation.data.doc ng-href={{observation.data.doc}} target=_new>Download Document</a></div><div class=col-sm-6><nn-badge style="margin: 10px 0px 10px 0px;" class="nn-badge detail__user" title={{$root.users[observation.observer].display_name}} subtitle={{formatDate(observation.updated_at)}} avatar-url={{avatarUrl}}></nn-badge><div class=section-content><div class=grouped-content><p ng-if=!isEditMode><b>{{allProjects.$getRecord(observation.activity).name}}</b></p><select style=width:100%; ng-if=isEditMode ng-model=observation.activity ng-options="a.id as a.name for a in allProjects"></select></div><p ng-show=observation.where style=margin-top:10px;><i class="fa fa-map-marker"></i> {{observation.where}}</p><div><textarea ng-if=isEditMode ng-model=observation.data.text class="form-control section-content"></textarea><div ng-if=!isEditMode class=detail__description ng-bind-html=observation.data.text hashtagify term-click=search($event)></div></div></div><hr style="margin:5px 0px 0px 0px;"><section align=left style="overflow-y:scroll; max-height:200px;"><div style="margin: 10px 0px 10px 0px;" ng-repeat="c in comments | orderBy: \'updated_at\'"><b>{{$root.users[c.commenter].display_name}}</b> <b style=font-weight:normal ng-bind-html=c.comment hashtagify term-click=search($event)></b></div></section><hr ng-show="comments.length!=0" style=margin-top:0px><div class=section-content><nn-social-totals class="totals detail__totals" data=observation context=observations show-dislikes=false></nn-social-totals><div ng-if=!isEditMode style="margin-left:2em; display:inline;"><input ng-if=editable class="button button--edit" ng-click=edit() value=edit type=submit> <input ng-if=editable class="button button--delete" ng-click=delete() value=delete type=submit></div><div ng-if=isEditMode style=display:inline;><input class="button button--cancel" ng-click=cancel() value=cancel type=submit> <input class="button button--save" ng-click=saveChanges() value=save type=submit></div></div><nn-comment-form class="nn-badge comment list-item__comment" data=observation context=observations></nn-comment-form></div></div></div></div></div><div style=height:125px;></div></div>'),e.put("app/widgets/nn-observation.html",'<section class=sidebar__content><nn-badge ng-if=!isEditMode class="sidebar__title nn-badge" title={{allProjects.$getRecord(observation.activity).name}} subtitle avatar-url={{allProjects.$getRecord(observation.activity).icon_url}}></nn-badge><select ng-if=isEditMode ng-model=observation.activity ng-options="a.id as a.name for a in allProjects"></select><div ng-if=observation.data.image nn-image class=sidebar__image image-url="{{observation.data.image | img_sidebar}}" ng-click=view()></div><p ng-if=!isEditMode class=sidebar__description>{{observation.data.text}}</p><textarea ng-if=isEditMode ng-model=observation.data.text class=sidebar__description></textarea><nn-social-totals class=totals data=observation context=observations></nn-social-totals><div ng-if=!isEditMode style="margin-left:2em; display:inline;"><input ng-if=editable class="button button--edit" ng-click=edit() value=edit type=submit> <input ng-if=editable class="button button--delete" ng-click=delete() value=delete type=submit></div><div ng-if=isEditMode style=display:inline;><input class="button button--cancel" ng-click=cancel() value=cancel type=submit> <input class="button button--save" ng-click=saveChanges() value=save type=submit></div></section>'),e.put("app/widgets/nn-observations-list.html",'<div class=main__observations><div class="list-item list-item--square" style="cursor: pointer;" ng-if="observations.length > 0" ng-repeat="o in observations | filter:{ status:\'!deleted\' } | orderBy: \'-updated_at\' | limitTo: limit" ng-click=showObservation(o)><nn-image class=list-item__image image-url="{{o.data.image | img_thumb}}"></nn-image>{{imageOnly}}<div ng-if="imageOnly!==\'true\'" class=list-item__detail><nn-badge class="nn-badge item__user" title={{$root.users[o.observer].display_name}} subtitle={{formatDate(o.updated_at)}} avatar-url={{$root.users[o.observer].avatar}}></nn-badge></div></div><div ng-if="observations.length === 0">No Observations.</div></div><div style=margin-bottom:20px; class ng-if="expandable && (observations.length > limit)"><a ng-click=incrementLimit() href>Show More</a></div>'),e.put("app/widgets/nn-project-modal.html",'<div class="modal-dialog -center-nav" style="z-index: 1000;" ng-class="{show:show, hide:!show}" data-backdrop=true><div class=modal-content><div class=modal-header><button type=button class=close ng-click=hide() aria-hidden=true>&times;</button><div class=modal-title><section><header class=masthead__header><div class=masthead__avatar style="background-image: url(\'{{url}}\')"></div><div ng-if=!isEditMode class=masthead__title>{{project.name}}</div><input ng-if=isEditMode style="width:75%; display:inline-block; margin-top:15px" class="masthead__title form-control" ng-model=project.name><div ng-if=!isEditMode hashtagify ng-bind-html="project.description | linky:\'_blank\'" style=margin:15px; class=masthead__text></div><textarea ng-if=isEditMode rows=3 style="display:inline-block; margin-top:15px" class="masthead__text form-control" ng-model=project.description></textarea></header><div style="width:100%; text-align:center;" ng-if=editable><div ng-if=!isEditMode style="margin-left:2em; display:inline;"><input class="button button--edit" ng-click=edit() value=edit type=submit></div><div ng-if=isEditMode style=display:inline;><input class="button button--cancel" ng-click=cancel() value=cancel type=submit> <input class="button button--save" ng-click=saveChanges() value=save type=submit></div></div></section></div></div><div class=modal-body><section style=text-align:center; ng-if="!observation || !observation.observer" class="main__section recent-contributions"><div class=main__subtitle>Recent Contributions</div><nn-observations-list observations=observations limit=9 expandable=true></nn-observations-list></section><div ng-if="observation && observation.observer" style=padding:0px; class=detail><div class=row><a class="drawer-icon btn btn-primary" ng-click=resetObservation() id=menu-toggle><i class="fa fa-arrow-left" style></i></a></div><div class=col-sm-6 style="padding:0px 0px 10px 0px;"><a ng-if=!!observation.data.image ng-href={{observation.data.image}} target=_new><img style=padding:0px; class="detail__image img-responsive" src="{{observation.data.image | img_large }}" ng-if=observation.data.image></a> <a ng-if=!!observation.data.doc ng-href={{observation.data.doc}} target=_new>Download Document</a></div><div class=col-sm-6><nn-badge style="margin: 10px 0px 10px 0px;" class="nn-badge detail__user" title={{$root.users[observation.observer].display_name}} subtitle={{formatDate(observation.updated_at)}} avatar-url={{avatarUrl}}></nn-badge><div class=section-content><div><textarea ng-if=isEditMode ng-model=observation.data.text class="form-control section-content"></textarea><div ng-if=!isEditMode class=detail__description>{{observation.data.text}}</div></div><div class=grouped-content><p ng-if=!isEditMode><b>{{allProjects.$getRecord(observation.activity).name}}</b></p><select style=width:100%; ng-if=isEditMode ng-model=observation.activity ng-options="a.id as a.name for a in allProjects"></select></div></div><hr style="margin:5px 0px 0px 0px;"><section align=left style="overflow-y:scroll; max-height:200px;"><p style="margin: 10px 0px 10px 0px;" ng-repeat="c in comments | orderBy: \'updated_at\'"><b>{{$root.users[c.commenter].display_name}}</b> {{c.comment}}</p></section><hr ng-show="comments.length!=0" style=margin-top:0px><div class=section-content><div style="margin-top:10px; margin-bottom: 10px"><nn-social-totals class="totals detail__totals" data=observation context=observations show-dislikes=false></nn-social-totals></div><div ng-if=!isEditMode style=display:inline;><input ng-if=editable class="button button--edit" ng-click=edit() value=edit type=submit> <input ng-if=editable class="button button--delete" ng-click=delete() value=delete type=submit></div><div ng-if=isEditMode style=display:inline;><input class="button button--cancel" ng-click=cancel() value=cancel type=submit> <input class="button button--save" ng-click=saveChanges() value=save type=submit></div></div><nn-comment-form class="nn-badge comment list-item__comment" data=observation context=observations></nn-comment-form></div></div></div><div class=modal-footer><button type=button class="btn btn-default" ng-click="show=false" data-dismiss=modal>Close</button></div></div></div><div style=height:175px></div>'),e.put("app/widgets/nn-question-modal.html",'<div class="modal-dialog -center-nav" style="margin: 120px auto; overflow:hidden; z-index: 1000;" ng-class="{show:show, hide:!show}" data-backdrop=true><div class=modal-content><div class=modal-header><button type=button class=close ng-click=hide() aria-hidden=true>&times;</button><div class=modal-title><section class=masthead__header><div class=masthead_question_title>Help Us Improve NatureNet!</div><br><div class=masthead_question_description><p style="padding: 10px 0 10px 0;">If you have an idea for a new feature or suggestion, submit it as a <a ng-click=hide() href=/ideas>design idea.</a></p><p>If something isn\'t working as expected or if you have a question about NatureNet post it here and we\'ll email you directly!</p></div></section></div></div><div class=modal-body><textarea rows=4 class="form-control detail__description" placeholder="Ask your question..." ng-model=content style=resize:none></textarea> <button type=button class="btn btn-default" ng-click=submitQuestion()>Submit</button></div></div></div>'),e.put("app/widgets/nn-social-totals.html",'<div style="display: inline; padding-right:10px;" ng-click="doLike() ; $event.stopPropagation();"><span style="font-size: .8em;" class="fa-stack fa-2x"><i ng-class="{ \'thumb-liked\': liked, \'thumb-neutral\': !liked }" class="fa fa-circle fa-stack-2x"></i> <i style=color:white; class="fa fa-thumbs-up fa-stack-1x"></i></span> <span class=thumb-liked style="font-weight: bold;">{{likes}}</span></div><div style="display: inline; padding-right:10px;"><span style="font-size: 1.1em;" class="comment-dark fa fa-comments fa-2x"></span> <span class=comment-dark style="font-weight: bold;">{{comments}}</span></div>'),e.put("app/widgets/nn-status.html",'<div ng-switch on=status><div class="status status__discussing" ng-switch-when=doing><div class=status__text><p class=status__title>Discussing</p></div><div class=status__icon style="background-image: url(\'images/discussing.png\')"></div></div><div class="status status__discussing" ng-switch-when=developing><div class=status__text><p class=status__title>Developing</p></div><div class=status__icon style="background-image: url(\'images/developing.png\')"></div></div><div class="status status__discussing" ng-switch-when=testing><div class=status__text><p class=status__title>Testing</p></div><div class=status__icon style="background-image: url(\'images/testing.png\')"></div></div><div class="status status__completed" ng-switch-when=done><div class=status__text><p class=status__title>Completed</p></div><div class=status__icon style="background-image: url(\'images/completed.png\')"></div></div><div class="status status_discussing" ng-switch-default><div class=status__text><p class=status__title>Discussing</p></div><div class=status__icon style="background-image: url(\'images/discussing.png\')"></div></div></div>')}]);